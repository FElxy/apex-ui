class t{constructor(){this.events={}}addEventListener(t,e=function(){}){this.events[t]=this.events[t]||[],this.events[t].push(e)}trigger(t,...e){this.events[t]&&this.events[t].forEach(t=>{try{t.apply(null,e)}catch(t){console.error(t)}})}}var e={animation:!0,animationDuration:1e3,animationTiming:"easeInOut",backgroundColor:"#ffffff",colors:["#7cb5ec","#f7a35c","#434348","#90ed7d","#f15c80","#8085e9"],label:{show:!0,fontSize:10,color:"auto",margin:5},legend:{show:!0,type:"default",marginTop:15,itemGap:15,shapeRadius:7.5,shapeWidth:30,shapeHeight:15,textStyle:{fontSize:15,color:"#333333",padding:5}},padding:[20,20,20,20],yAxisCategory:{show:!0,type:"category",boundaryGap:!0,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15,align:"center"}},axisLabel:{show:!0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,alignWithLabel:!1,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,alignWithLabel:!1,lineStyle:{lineWidth:1,color:"#dddddd"}}},yAxisValue:{show:!0,type:"value",max:"auto",min:"auto",splitNumber:4,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15,align:"center"}},axisLabel:{show:!0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,lineStyle:{lineWidth:1,color:"#dddddd"}}},xAxisCategory:{show:!0,type:"category",boundaryGap:!0,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15}},axisLabel:{show:!0,rotate:0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,alignWithLabel:!1,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,alignWithLabel:!1,lineStyle:{lineWidth:1,color:"#dddddd"}}},xAxisValue:{show:!0,type:"value",max:"auto",min:"auto",splitNumber:4,axisName:{show:!0,text:"轴线名称",gap:10,textStyle:{color:"#666666",fontSize:15,align:"center"}},axisLabel:{show:!0,rotate:0,gap:5,textStyle:{color:"#666666",fontSize:12}},axisTick:{show:!0,length:5,lineStyle:{lineWidth:1,color:"#666666"}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#666666"}},axisSplitLine:{show:!0,lineStyle:{lineWidth:1,color:"#dddddd"}}},radarAxis:{shape:"polygon",center:["50%","50%"],radius:"80%",max:"auto",splitNumber:4,axisName:{show:!0,textStyle:{fontSize:15,color:"#666666",margin:10}},axisLine:{show:!0,lineStyle:{lineWidth:1,color:"#cccccc",opacity:1}},splitLine:{show:!0,lineStyle:{lineWidth:1,color:"#cccccc",opacity:1}},splitArea:{odd:{show:!0,color:"#f5f5f5",opacity:1},even:{show:!0,color:"#e6e6e6",opacity:1}}},bar:{barMaxWidth:20,barMinWidth:1,barWidth:"auto",barGap:5},line:{smooth:!1,connectNulls:!1,line:{show:!0,lineWidth:2,color:"auto",opacity:1},symbol:{show:!0,type:"circle",size:7,color:"auto"},area:{show:!1,color:"auto",opacity:.5}},pie:{center:["50%","50%"],radius:[0,"80%"],roseType:!1,offsetAngle:0,disablePieStroke:!0,labelLine:{lineDotRadius:3,lineWidth:1,length1:25,length2:15}},radar:{line:{show:!0,lineWidth:1,color:"auto",opacity:1},area:{show:!1,color:"auto",opacity:.5},symbol:{show:!0,type:"circle",size:7,color:"auto"}},scatter:{radius:10,opacity:1,lineWidth:0,strokeColor:"auto"},funnel:{width:"auto",height:"auto",top:"0%",left:"0%",right:"0%",bottom:"0%",max:100,min:0,gap:5,shape:"funnel",sort:"descending",funnelAlign:"center",label:{position:"inside"},itemStyle:{borderColor:"#ffffff",borderWidth:1}},candlestick:{barMaxWidth:20,barMinWidth:1,barWidth:"auto",itemStyle:{color:"#ec0000",bordercolor:"#ec0000",opacity:1,color0:"#00da3c",bordercolor0:"#00da3c",opacity0:1,borderWidth:1},highLine:{show:!1,lineStyle:{color:"#ec0000",lineWidth:1,lineDash:[10,15],opacity:1}},lowLine:{show:!1,lineStyle:{color:"#ec0000",lineWidth:1,lineDash:[10,15],opacity:1}},bar:{show:!1,height:50,margin:15,itemStyle:{color:"auto",opacity:1},lineStyle:{lineWidth:1,lineColor:"#666666"}}},heatmap:{itemStyle:{color:["#BAE7FF","#0050B3"],useSplit:!1}},treemap:{splitLine:{show:!0,lineWidth:5,color:"#ffffff"}},tagCloud:{padding:1,timeInterval:500,font:"serif",fontSize:15,rotate:0,spiral:"archimedean"}};function a(t){let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),a=parseInt(e[1],16),n=parseInt(e[2],16),i=parseInt(e[3],16);a/=255,n/=255,i/=255;let r,o,l=Math.max(a,n,i),s=Math.min(a,n,i),h=(l+s)/2;if(l==s)r=o=0;else{let t=l-s;switch(o=h>.5?t/(2-l-s):t/(l+s),l){case a:r=(n-i)/t+(n<i?6:0);break;case n:r=(i-a)/t+2;break;case i:r=(a-n)/t+4}r/=6}return o*=100,o=Math.round(o),h*=100,h=Math.round(h),r=Math.round(360*r),[r,o,h]}function n(t){let e,a,n,[i,r,o]=t;if(i/=360,r/=100,o/=100,0===r)e=a=n=o;else{const t=(t,e,a)=>(a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(e-t)*a:a<.5?e:a<2/3?t+(e-t)*(2/3-a)*6:t),l=o<.5?o*(1+r):o+r-o*r,s=2*o-l;e=t(s,l,i+1/3),a=t(s,l,i),n=t(s,l,i-1/3)}const l=t=>{const e=Math.round(255*t).toString(16);return 1===e.length?"0"+e:e};return`#${l(e)}${l(a)}${l(n)}`}function i(t,e){let[a,n]=e;return{x:a+t.x,y:n-t.y}}function r(t,e,a){let n=!1;return t.x>0&&e.x>0?n=t.y+a>e.y:t.x<0&&e.x<0&&(n=t.y-a<e.y),n}function o(t){return t?(t=String(t).replace("%",""),t=Number(t)/100):t=0,t}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var h=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var a="[object Arguments]",n="[object Function]",i="[object GeneratorFunction]",r="[object Map]",o="[object Set]",l=/\w*$/,h=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u[a]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object DataView]"]=u["[object Boolean]"]=u["[object Date]"]=u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u[r]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u[o]=u["[object String]"]=u["[object Symbol]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Error]"]=u[n]=u["[object WeakMap]"]=!1;var f="object"==typeof s&&s&&s.Object===Object&&s,x="object"==typeof self&&self&&self.Object===Object&&self,d=f||x||Function("return this")(),p=e&&!e.nodeType&&e,y=p&&t&&!t.nodeType&&t,g=y&&y.exports===p;function m(t,e){return t.set(e[0],e[1]),t}function b(t,e){return t.add(e),t}function S(t,e,a,n){var i=-1,r=t?t.length:0;for(n&&r&&(a=t[++i]);++i<r;)a=e(a,t[i],i,t);return a}function v(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function w(t){var e=-1,a=Array(t.size);return t.forEach((function(t,n){a[++e]=[n,t]})),a}function M(t,e){return function(a){return t(e(a))}}function A(t){var e=-1,a=Array(t.size);return t.forEach((function(t){a[++e]=t})),a}var D,P=Array.prototype,k=Function.prototype,T=Object.prototype,_=d["__core-js_shared__"],E=(D=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",W=k.toString,L=T.hasOwnProperty,z=T.toString,j=RegExp("^"+W.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=g?d.Buffer:void 0,X=d.Symbol,Y=d.Uint8Array,B=M(Object.getPrototypeOf,Object),O=Object.create,N=T.propertyIsEnumerable,C=P.splice,R=Object.getOwnPropertySymbols,H=I?I.isBuffer:void 0,F=M(Object.keys,Object),$=yt(d,"DataView"),q=yt(d,"Map"),G=yt(d,"Promise"),Z=yt(d,"Set"),U=yt(d,"WeakMap"),V=yt(Object,"create"),J=vt($),K=vt(q),Q=vt(G),tt=vt(Z),et=vt(U),at=X?X.prototype:void 0,nt=at?at.valueOf:void 0;function it(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function rt(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,a=t?t.length:0;for(this.clear();++e<a;){var n=t[e];this.set(n[0],n[1])}}function lt(t){this.__data__=new rt(t)}function st(t,e){var n=Mt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&At(t)}(t)&&L.call(t,"callee")&&(!N.call(t,"callee")||z.call(t)==a)}(t)?function(t,e){for(var a=-1,n=Array(t);++a<t;)n[a]=e(a);return n}(t.length,String):[],i=n.length,r=!!i;for(var o in t)!e&&!L.call(t,o)||r&&("length"==o||bt(o,i))||n.push(o);return n}function ht(t,e,a){var n=t[e];L.call(t,e)&&wt(n,a)&&(void 0!==a||e in t)||(t[e]=a)}function ct(t,e){for(var a=t.length;a--;)if(wt(t[a][0],e))return a;return-1}function ut(t,e,s,h,c,f,x){var d;if(h&&(d=f?h(t,c,f,x):h(t)),void 0!==d)return d;if(!kt(t))return t;var p=Mt(t);if(p){if(d=function(t){var e=t.length,a=t.constructor(e);e&&"string"==typeof t[0]&&L.call(t,"index")&&(a.index=t.index,a.input=t.input);return a}(t),!e)return function(t,e){var a=-1,n=t.length;e||(e=Array(n));for(;++a<n;)e[a]=t[a];return e}(t,d)}else{var y=mt(t),g=y==n||y==i;if(Dt(t))return function(t,e){if(e)return t.slice();var a=new t.constructor(t.length);return t.copy(a),a}(t,e);if("[object Object]"==y||y==a||g&&!f){if(v(t))return f?t:{};if(d=function(t){return"function"!=typeof t.constructor||St(t)?{}:(e=B(t),kt(e)?O(e):{});var e}(g?{}:t),!e)return function(t,e){return dt(t,gt(t),e)}(t,function(t,e){return t&&dt(e,Tt(e),t)}(d,t))}else{if(!u[y])return f?t:{};d=function(t,e,a,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return xt(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var a=e?xt(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var a=e?xt(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}(t,n);case r:return function(t,e,a){return S(e?a(w(t),!0):w(t),m,new t.constructor)}(t,n,a);case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,l.exec(t));return e.lastIndex=t.lastIndex,e}(t);case o:return function(t,e,a){return S(e?a(A(t),!0):A(t),b,new t.constructor)}(t,n,a);case"[object Symbol]":return s=t,nt?Object(nt.call(s)):{}}var s}(t,y,ut,e)}}x||(x=new lt);var M=x.get(t);if(M)return M;if(x.set(t,d),!p)var D=s?function(t){return function(t,e,a){var n=e(t);return Mt(t)?n:function(t,e){for(var a=-1,n=e.length,i=t.length;++a<n;)t[i+a]=e[a];return t}(n,a(t))}(t,Tt,gt)}(t):Tt(t);return function(t,e){for(var a=-1,n=t?t.length:0;++a<n&&!1!==e(t[a],a,t););}(D||t,(function(a,n){D&&(a=t[n=a]),ht(d,n,ut(a,e,s,h,n,t,x))})),d}function ft(t){return!(!kt(t)||(e=t,E&&E in e))&&(Pt(t)||v(t)?j:h).test(vt(t));var e}function xt(t){var e=new t.constructor(t.byteLength);return new Y(e).set(new Y(t)),e}function dt(t,e,a,n){a||(a={});for(var i=-1,r=e.length;++i<r;){var o=e[i],l=n?n(a[o],t[o],o,a,t):void 0;ht(a,o,void 0===l?t[o]:l)}return a}function pt(t,e){var a,n,i=t.__data__;return("string"==(n=typeof(a=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==a:null===a)?i["string"==typeof e?"string":"hash"]:i.map}function yt(t,e){var a=function(t,e){return null==t?void 0:t[e]}(t,e);return ft(a)?a:void 0}it.prototype.clear=function(){this.__data__=V?V(null):{}},it.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},it.prototype.get=function(t){var e=this.__data__;if(V){var a=e[t];return"__lodash_hash_undefined__"===a?void 0:a}return L.call(e,t)?e[t]:void 0},it.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:L.call(e,t)},it.prototype.set=function(t,e){return this.__data__[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this},rt.prototype.clear=function(){this.__data__=[]},rt.prototype.delete=function(t){var e=this.__data__,a=ct(e,t);return!(a<0)&&(a==e.length-1?e.pop():C.call(e,a,1),!0)},rt.prototype.get=function(t){var e=this.__data__,a=ct(e,t);return a<0?void 0:e[a][1]},rt.prototype.has=function(t){return ct(this.__data__,t)>-1},rt.prototype.set=function(t,e){var a=this.__data__,n=ct(a,t);return n<0?a.push([t,e]):a[n][1]=e,this},ot.prototype.clear=function(){this.__data__={hash:new it,map:new(q||rt),string:new it}},ot.prototype.delete=function(t){return pt(this,t).delete(t)},ot.prototype.get=function(t){return pt(this,t).get(t)},ot.prototype.has=function(t){return pt(this,t).has(t)},ot.prototype.set=function(t,e){return pt(this,t).set(t,e),this},lt.prototype.clear=function(){this.__data__=new rt},lt.prototype.delete=function(t){return this.__data__.delete(t)},lt.prototype.get=function(t){return this.__data__.get(t)},lt.prototype.has=function(t){return this.__data__.has(t)},lt.prototype.set=function(t,e){var a=this.__data__;if(a instanceof rt){var n=a.__data__;if(!q||n.length<199)return n.push([t,e]),this;a=this.__data__=new ot(n)}return a.set(t,e),this};var gt=R?M(R,Object):function(){return[]},mt=function(t){return z.call(t)};function bt(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||c.test(t))&&t>-1&&t%1==0&&t<e}function St(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||T)}function vt(t){if(null!=t){try{return W.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function wt(t,e){return t===e||t!=t&&e!=e}($&&"[object DataView]"!=mt(new $(new ArrayBuffer(1)))||q&&mt(new q)!=r||G&&"[object Promise]"!=mt(G.resolve())||Z&&mt(new Z)!=o||U&&"[object WeakMap]"!=mt(new U))&&(mt=function(t){var e=z.call(t),a="[object Object]"==e?t.constructor:void 0,n=a?vt(a):void 0;if(n)switch(n){case J:return"[object DataView]";case K:return r;case Q:return"[object Promise]";case tt:return o;case et:return"[object WeakMap]"}return e});var Mt=Array.isArray;function At(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!Pt(t)}var Dt=H||function(){return!1};function Pt(t){var e=kt(t)?z.call(t):"";return e==n||e==i}function kt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Tt(t){return At(t)?st(t):function(t){if(!St(t))return F(t);var e=[];for(var a in Object(t))L.call(t,a)&&"constructor"!=a&&e.push(a);return e}(t)}t.exports=function(t){return ut(t,!0,!0)}}));function c(t,e,a,n,i=!1){var r;a[n]||0===a[n]||""===a[n]||"boolean"==typeof a[n]?i?l(t[e])?Object.keys(t[e]).forEach(r=>{c(t[e],r,a[n],r,i)}):(r=t[e],"[object Array]"===Object.prototype.toString.call(r)?"series"==e?t[e].forEach((e,n)=>{Object.keys(e).forEach(e=>{c(t[e][n],e,a[e][n],e,!0)})}):a[n]=[].concat(t[e]):a[n]=t[e]):l(a[n])&&Object.keys(t[e]).forEach(r=>{c(t[e],r,a[n],r,i)}):a[n]=h(t[e])}function u(){let{config:t,opts:e}=this;c(t,"animation",e,"animation"),c(t,"animationDuration",e,"animationDuration"),c(t,"animationTiming",e,"animationTiming"),c(t,"backgroundColor",e,"backgroundColor"),c(t,"colors",e,"colors"),c(t,"padding",e,"padding"),c(t,"legend",e,"legend"),e.series.forEach(a=>{switch(a.type){case"bar":case"line":case"scatter":case"candlestick":case"k":case"heatmap":e.yAxis&&"category"==e.yAxis.type?c(t,"yAxisCategory",e,"yAxis"):c(t,"yAxisValue",e,"yAxis"),e.xAxis&&"value"==e.xAxis.type?c(t,"xAxisValue",e,"xAxis"):c(t,"xAxisCategory",e,"xAxis");case"radar":c(t,"radarAxis",e,"radarAxis")}}),f.call(this)}function f(){let{config:t,opts:e}=this;e.series.forEach((a,n)=>{switch(c(t,"label",a,"label"),a.type){case"bar":case"line":case"pie":case"radar":case"scatter":case"funnel":case"heatmap":case"treemap":case"tagCloud":c(t,a.type,e.series,n);break;case"candlestick":case"k":c(t,"candlestick",e.series,n)}})}var x={easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},linear:function(t){return t}};class d{constructor(t){this.isStop=!1;let{animation:e,animationDuration:a,animationTiming:n,onProcess:i,onAnimationFinish:r}=t,o="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setTimeout?function(t){setTimeout((function(){let e=+new Date;t(e)}),17)}:void 0;if(e){let e=x[n],l=null,s=function(){if(!0===this.isStop)return i(1),void r();let n=+new Date;if(l||(l=n),n-l<a){let i=(n-l)/a;i=e(i),t.onProcess(i),o(s)}else i(1),r()};s=s.bind(this),o(s)}else i(1),r()}stop(){this.isStop=!0}}function p(){let t={};this.opts.series.forEach(e=>{"candlestick"==e.type||"k"==e.type?(t.candlestick||(t.candlestick=[]),t.candlestick.push(e)):"funnel"==e.type?(t.funnel||(t.funnel=[]),e.data.sort((t,a)=>"ascending"==e.sort?t.value-a.value:a.value-t.value),t.funnel.push(e)):(t[e.type]||(t[e.type]=[]),t[e.type].push(e))}),this.seriesMap=t,this.seriesMap}function y(){let{colors:t,series:e}=this.opts;e.forEach((e,a)=>{"pie"==e.type||"funnel"==e.type||"treemap"==e.type||"tagCloud"==e.type?e.data.forEach((e,a)=>{e.itemStyle=e.itemStyle||{},e.itemStyle.color||(e.itemStyle.color=t[a%t.length])}):(e.itemStyle=e.itemStyle||{},e.itemStyle.color||(e.itemStyle.color=t[a%t.length]))})}function g(){if(this.opts.legend.show){let{context:t,opts:e}=this,{width:a,padding:n,legend:i,series:r}=e,{type:o,shapeWidth:l,shapeHeight:s,shapeRadius:h,itemGap:c,marginTop:u,textStyle:f}=i,{fontSize:x,padding:d}=f,p=0,y=0,g=[],m=[],b=l,S=[],v=a-n[1]-n[3],w=[],M=r.some(t=>(w=t,"pie"==t.type||"funnel"==t.type||"treemap"==t.type||"tagCloud"==t.type));if(i.data||(S=M?w.data.map(t=>t.name):r.map(t=>t.name)),t.font=x+"px",M){if("default"==o)switch(w.type){case"pie":o="circle",b=2*h;break;case"funnel":case"treemap":case"tagCloud":o="rect"}S.forEach(t=>{w.data.forEach(e=>{if(t==e.name){let{name:t,itemStyle:a}=e,n=this.context.measureText(t||"").width,i=b+d+c+n,r={legendType:o,name:t,measureText:n,color:"string"==typeof a.color?a.color:"#000000"};y+i>v?(g.push(m),y=i,m=[r]):(y+=i,p=Math.max(p,y),m.push(r))}})})}else S.forEach(t=>{r.forEach(e=>{if("default"==o)switch(e.type){case"bar":case"radar":case"candlestick":case"k":case"heatmap":o="rect";break;case"line":o="line";break;case"scatter":o="circle",b=2*h}if(t==e.name){let{name:t,itemStyle:a}=e,n=this.context.measureText(t||"").width,i=b+d+c+n,r={legendType:o,name:t,measureText:n,color:"string"==typeof a.color?a.color:"#000000"};y+i>v?(g.push(m),y=i,m=[r]):(y+=i,p=Math.max(p,y),m.push(r))}})});m.length&&g.push(m),this.legendData={legendList:g,legendWidth:p-c,legendHeight:g.length*Math.max(s,x)+(g.length-1)*c+u}}else this.legendData={legendList:[],legendWidth:0,legendHeight:0};this.legendData}function m(){let{context:t,opts:e,legendData:a,chartData:n,seriesMap:i}=this,{width:r,height:o,padding:l,xAxis:s,yAxis:h,series:c}=e,{show:u,type:f,data:x,boundaryGap:d,max:p,min:y,splitNumber:g,format:m,axisName:b,axisLabel:S,axisTick:v,axisLine:w,axisSplitLine:M}=s,{show:A,type:D,data:P,boundaryGap:k,max:T,min:_,splitNumber:E,format:W,axisName:L,axisLabel:z,axisTick:j,axisLine:I,axisSplitLine:X}=h,{show:Y,textStyle:B,gap:O,text:N}=b,{show:C,textStyle:R,gap:H,rotate:F,showIndex:$}=S,{show:q,lineStyle:G,length:Z,alignWithLabel:U,showIndex:V}=v,{show:J,lineStyle:K}=w,{show:Q,lineStyle:tt,alignWithLabel:et,showIndex:at}=M,{show:nt,textStyle:it,gap:rt,text:ot}=L,{show:lt,textStyle:st,gap:ht,showIndex:ct}=z,{show:ut,lineStyle:ft,length:xt,alignWithLabel:dt,showIndex:pt}=j,{show:yt,lineStyle:gt}=I,{show:mt,lineStyle:bt,alignWithLabel:St,showIndex:vt}=X,{fontSize:wt}=B,{fontSize:Mt}=R,{lineWidth:At}=G,{lineWidth:Dt}=K,{lineWidth:Pt}=tt,{fontSize:kt}=it,{fontSize:Tt}=st,{lineWidth:_t}=ft,{lineWidth:Et}=gt,{lineWidth:Wt}=bt,Lt=l[3],zt=r-l[1],jt=o-l[2]-a.legendHeight,It=l[0];if(i.candlestick&&i.candlestick.length){let{height:t,margin:e,lineStyle:a}=i.candlestick[0].bar,{lineWidth:n}=a;jt-=t+e+n}let Xt,Yt,Bt,Ot,Nt,Ct,Rt,Ht,Ft,$t,qt,Gt,Zt,Ut,Vt,Jt,Kt=Lt,Qt=jt,te=!0,ee=!0;function ae(t="x"){let e={},a={},n=[];Object.keys(i).forEach(t=>{"bar"==t&&(i.bar.forEach(t=>{t.stack?(e[t.stack]||(e[t.stack]=[]),e[t.stack].push(t.data)):(e[t.name]||(e[t.name]=[]),e[t.name].push(t.data))}),a[t]=e),"line"!=t&&"scatter"!=t&&"candlestick"!=t||i[t].forEach(e=>{a[t]||(a[t]=[]),a[t].push(e.data)})}),Object.keys(a).forEach(i=>{"bar"==i&&Object.keys(a[i]).forEach(t=>{if(e[t].length>1){let a=e[t].reduce((t,e)=>(0==t.length?t=e:e.forEach((e,a)=>{t[a]+=e}),t),[]);n=n.concat(a)}else{let a=e[t][0];n=n.concat(a)}}),"line"==i&&a[i].forEach(t=>{let e=t.reduce((t,e)=>(e=Number(e),isNaN(e)||"number"!=typeof e||t.push(e),t),[]);n=n.concat(e)}),"scatter"==i&&a[i].forEach(e=>{let a=e.reduce((e,a)=>(a=Number(a[t]),isNaN(a)||"number"!=typeof a||e.push(a),e),[]);n=n.concat(a)}),"candlestick"==i&&a[i].forEach(t=>{let e=t.reduce((t,e)=>(e=Number(e[2]),isNaN(e)||"number"!=typeof e||t.push(e),t),[]);n=n.concat(e)})});let r=[],o="x"==t?g:E,l="x"==t?p:T,s="x"==t?y:_,h=Math.max(...n),c=Math.min(...n),u=0,f=0,x=1,d=1;l="auto"==l?l:Number(l),s="auto"==s?s:Number(s),"auto"==l||"auto"==s?(h="auto"==l?h<=0&&c<=0?0:h:l,c="auto"==s?h>=0&&c>=0?0:c:s,u=h-c):(h=l,c=s,u=h-c);let m=!(h>0&&c<0);for(x=u>=1e4?1e3:u>=1e3?100:u>=100?10:u>=10?5:u>=1?.1:u>=.1?.01:u>=.01?.001:u>=.001?1e-4:1e-5;x<1;)x*=10,d*=10;if("auto"==l&&"auto"==s)if(h>=0&&c>=0){for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,u=f*o,h=c+u}else if(h<=0&&c<=0){for(u*=d,f=Math.floor(u/o);f%x!=0;)f+=1;f/=d,u=f*o,c=h-u}else{for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,r.push(0);let t=0;for(;t<h;)t+=f,r.push(t);for(h=t,t=0;t>c;)t-=f,r.unshift(t);c=t,u=h-c}if("auto"==l&&"number"==typeof s)if(h>=0&&c>=0){for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,u=f*o,h=c+u}else if(h<=0&&c<=0)u*=d,f=Number((u/o).toFixed(2)),f/=d,u=f*o;else{for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,r.push(0);let t=0;for(;t<h;)t+=f,r.push(t);for(h=t,t=0;t-f>c;)t-=f,r.unshift(t);r.unshift(c),u=h-c}if("number"==typeof l&&"auto"==s)if(h>=0&&c>=0)u*=d,f=Number((u/o).toFixed(2)),f/=d,u=f*o;else if(h<=0&&c<=0){for(u*=d,f=Math.floor(u/o);f%x!=0;)f+=1;f/=d,u=f*o,c=h-u}else{for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,r.push(0);let t=0;for(;t+f<h;)t+=f,r.push(t);for(r.push(h),t=0;t>c;)t-=f,r.unshift(t);c=t,u=h-c}if("number"==typeof l&&"number"==typeof s)if(h>=0&&c>=0)f=Number((u/o).toFixed(2));else if(h<=0&&c<=0)f=Number((u/o).toFixed(2));else{for(u*=d,f=Math.ceil(u/o);f%x!=0;)f+=1;f/=d,r.push(0);let t=0;for(;t+f<h;)t+=f,r.push(t);for(r.push(h),t=0;t-f>c;)t-=f,r.unshift(t);r.unshift(c),u=h-c}if(m)for(let t=0;t<=o;t++){let e=c+f*t;e=e.toFixed(d.toString().length-1),r.push(Number(e))}return"x"==t?(Jt=u,Ut=h,Vt=c,ee=m):(Zt=u,qt=h,Gt=c,te=m),r}n.axisData={xStart:null,xEnd:null,yStart:null,yEnd:null,yIsSamePart:null,xIsSamePart:null,yZero:null,yPlusSpacing:null,yMinusSpacing:null,ySpacing:null,yEachSpacing:null,xZero:null,xPlusSpacing:null,xMinusSpacing:null,xSpacing:null,xEachSpacing:null,yMaxData:null,yMinData:null,yDataRange:null,xMaxData:null,xMinData:null,xDataRange:null,xAxisLabelPoint:[],xAxisTickPoint:[],xAxisLinePoint:{},xAxisSplitLinePoint:[],xAxisNamePoint:{},yAxisLabelPoint:[],yAxisTickPoint:[],yAxisLinePoint:{},yAxisSplitLinePoint:[],yAxisNamePoint:{}};let ne="category"==f?x:ae("x"),ie="category"==D?P:ae("y");t.font=Mt+"px";let re=0,oe=0,le=ne.reduce((e,a,n)=>{let i=m?m(a):a;return re=Math.max(t.measureText(i).width,re),e.push(i),e},[]);F=Number(F),oe=0==F?Mt:Math.abs(re*Math.sin(F*Math.PI/180))+Math.abs(Mt*Math.cos(F*Math.PI/180)),t.font=Tt+"px";let se=0,he=ie.reduce((e,a,n)=>{let i=W?W(a):a;return se=Math.max(t.measureText(i).width,se),e.push(i),e},[]),ce=0;ce="category"==f&&d?ne.length:ne.length-1;let ue=0;if(ue="category"==D&&k?ie.length:ie.length-1,u&&C&&(jt-=oe+H),u&&q&&("value"==D&&te||"category"==D)&&(jt-=Z),te?u&&J&&(jt-=Dt/2):u&&Q&&(jt-=Pt/2),A&&nt&&(It+=kt+rt),Ot=jt-It,Nt=Math.floor(Ot/ue),It=jt-Nt*ue,Ot=jt-It,lt&&(Lt+=se+ht),A&&ut&&("value"==f&&ee||"category"==f)&&(Lt+=xt),ee?A&&yt&&(Lt+=Et/2):A&&mt&&(Lt+=Wt/2),u&&Y){t.font=wt+"px";let e=t.measureText(N).width;zt-=e+O}if(Ft=zt-Lt,$t=Math.floor(Ft/ce),zt=Lt+$t*ce,Ft=zt-Lt,"value"!=D||te||ie.reduce((t,e,a)=>{if(0==a)t.push({y:jt});else{let e=Math.abs(ie[a-1]-ie[a])*Ot/Zt;t.push({y:t[a-1].y-e})}return 0==e&&(Xt=t[a].y),a+1==ie.length&&(It=t[a].y,Ot=jt-It,Yt=Xt-It,Bt=jt-Xt),t},[]),"value"!=f||ee||ne.reduce((t,e,a)=>{if(0==a)t.push({x:Lt});else{let e=Math.abs(ne[a]-ne[a-1])*Ft/Jt;t.push({x:t[a-1].x+e})}return 0==e&&(Ct=t[a].x),a+1==ne.length&&(zt=t[a].x,Ft=zt-Lt,Rt=zt-Ct,Ht=Ct-Lt),t},[]),"value"==D){let t=Kt;if(A&&lt&&(t+=se),n.axisData.yAxisLabelPoint=he.reduce((e,a,n)=>{if(0==n)e.push({text:a,x:t,y:jt});else{let i=Math.abs(ie[n-1]-ie[n])*Ot/Zt;e.push({text:a,x:t,y:e[n-1].y-i})}return e},[]),A&&mt){let t=Kt;A&&lt&&(t+=se+ht),A&&ut&&ee&&(t+=xt),n.axisData.yAxisSplitLinePoint=n.axisData.yAxisLabelPoint.reduce((e,a,n)=>(e.push({startX:t,startY:a.y,endX:zt,endY:a.y}),e),[])}if(A&&ut){let t=Kt;ee?A&&lt&&(t+=se+ht):t=Ct-Dt/2-xt,n.axisData.yAxisTickPoint=n.axisData.yAxisLabelPoint.reduce((e,a,n)=>(e.push({startX:t,startY:a.y,endX:t+xt,endY:a.y}),e),[])}if(A&&yt){let t=Kt;ee?(A&&lt&&(t+=se+ht),A&&ut&&(t+=xt),t+=Et/2):t=Ct,n.axisData.yAxisLinePoint={startX:t,startY:jt,endX:t,endY:It-_t/2}}if(A&&nt){let t=Kt;ee?(A&&lt&&(t+=se+ht),A&&ut&&(t+=xt),A&&yt&&(t+=Et/2)):t=Ct,n.axisData.yAxisNamePoint={text:ot,x:t,y:It-rt}}}if("value"==f){let t=Qt;if(u&&C&&(t-=oe),n.axisData.xAxisLabelPoint=le.reduce((e,a,n)=>{if(0==n)e.push({text:a,x:Lt,y:t});else{let i=Math.abs(ne[n]-ne[n-1])*Ft/Jt;e.push({text:a,x:e[n-1].x+i,y:t})}return e},[]),u&&Q){let t=Qt;u&&C&&(t-=oe+H),u&&q&&te&&(t-=Z),n.axisData.xAxisSplitLinePoint=n.axisData.xAxisLabelPoint.reduce((e,a,n)=>(e.push({startX:a.x,startY:t,endX:a.x,endY:It}),e),[])}if(u&&q){let t=Qt;te?A&&lt&&(t-=oe+H):t=Xt+Dt/2+xt,n.axisData.xAxisTickPoint=n.axisData.xAxisLabelPoint.reduce((e,a,n)=>(e.push({startX:a.x,startY:t,endX:a.x,endY:t-Z}),e),[])}if(u&&J){let t=Qt;te?(u&&C&&(t-=oe+H),u&&q&&(t-=Z),t-=Dt/2):t=Xt,n.axisData.xAxisLinePoint={startX:Lt,startY:t,endX:zt+At/2,endY:t}}if(u&&Y){let t=Qt;ee?(u&&C&&(t-=oe+H),u&&q&&(t-=Z),u&&J&&(t-=Dt/2)):t=Xt,n.axisData.xAxisNamePoint={text:N,x:zt+O,y:t}}}if("category"==D){if(n.axisData.yAxisLabelPoint=he.reduce((t,e,a)=>{let n=Kt;return A&&lt&&(n+=se),k?t.push({show:!0,text:e,x:n,y:jt-Nt*(a+1)+Nt/2}):t.push({show:!0,text:e,x:n,y:jt-Nt*a}),t},[]),ct&&ct.length&&(n.axisData.yAxisLabelPoint=n.axisData.yAxisLabelPoint.map((t,e)=>{let a=ct.some(t=>t===e);return t.show=!!a,t})),A&&mt){let t=Kt;A&&lt&&(t+=se+ht),A&&ut&&ee&&(t+=xt);let e=0;e=k?St?ie.length:ie.length+1:ie.length;for(let a=0;a<e;a++)k&&St?n.axisData.yAxisSplitLinePoint.push({show:!0,startX:t,startY:jt-Nt*a-Nt/2,endX:zt,endY:jt-Nt*a-Nt/2}):n.axisData.yAxisSplitLinePoint.push({show:!0,startX:t,startY:jt-Nt*a,endX:zt,endY:jt-Nt*a})}if(vt&&vt.length&&(n.axisData.yAxisSplitLinePoint=n.axisData.yAxisSplitLinePoint.map((t,e)=>{let a=vt.some(t=>t===e);return t.show=!!a,t})),A&&ut){let t=Kt;ee?A&&lt&&(t+=se+ht):t=Ct-Et/2-xt;let e=0;e=k?dt?ie.length:ie.length+1:ie.length;for(let a=0;a<e;a++)k&&dt?n.axisData.yAxisTickPoint.push({show:!0,startX:t,startY:jt-Nt*a-Nt/2,endX:t+xt,endY:jt-Nt*a-Nt/2}):n.axisData.yAxisTickPoint.push({show:!0,startX:t,startY:jt-Nt*a,endX:t+xt,endY:jt-Nt*a})}if(pt&&pt.length&&(n.axisData.yAxisTickPoint=n.axisData.yAxisTickPoint.map((t,e)=>{let a=pt.some(t=>t===e);return t.show=!!a,t})),A&&yt){let t=Kt;ee?(A&&lt&&(t+=se+ht),A&&ut&&(t+=xt),t+=Et/2):t=Ct,n.axisData.yAxisLinePoint={startX:t,startY:jt,endX:t,endY:It-_t/2}}if(A&&nt){let t=Kt;ee?(A&&lt&&(t+=se+ht),A&&ut&&(t+=xt),A&&yt&&(t+=Et/2)):t=Ct,n.axisData.yAxisNamePoint={text:ot,x:t,y:It-rt}}}if("category"==f){if(n.axisData.xAxisLabelPoint=le.reduce((t,e,a)=>{let n=Qt;return u&&C&&(n-=oe),d?t.push({show:!0,text:e,x:Lt+$t*(a+1)-$t/2,y:n}):t.push({show:!0,text:e,x:Lt+$t*a,y:n}),t},[]),$&&$.length&&(n.axisData.xAxisLabelPoint=n.axisData.xAxisLabelPoint.map((t,e)=>{let a=$.some(t=>t===e);return t.show=!!a,t})),u&&Q){let t=Qt;u&&C&&(t-=oe+H),u&&q&&te&&(t-=Z);let e=0;e=d?et?ne.length:ne.length+1:ne.length;for(let a=0;a<e;a++)d&&et?n.axisData.xAxisSplitLinePoint.push({show:!0,startX:Lt+$t*a+$t/2,startY:t,endX:Lt+$t*a+$t/2,endY:It}):n.axisData.xAxisSplitLinePoint.push({show:!0,startX:Lt+$t*a,startY:t,endX:Lt+$t*a,endY:It})}if(at&&at.length&&(n.axisData.xAxisSplitLinePoint=n.axisData.xAxisSplitLinePoint.map((t,e)=>{let a=at.some(t=>t===e);return t.show=!!a,t})),u&&q){let t=Qt;te?(u&&C&&(t-=oe+H),u&&q&&(t-=Z)):t=Xt-Dt/2;let e=0;e=d?U?ne.length:ne.length+1:ne.length;for(let a=0;a<e;a++)d&&U?n.axisData.xAxisTickPoint.push({show:!0,startX:Lt+$t*a+$t/2,startY:t,endX:Lt+$t*a+$t/2,endY:t+Z}):n.axisData.xAxisTickPoint.push({show:!0,startX:Lt+$t*a,startY:t,endX:Lt+$t*a,endY:t+Z})}if(V&&V.length&&(n.axisData.xAxisTickPoint=n.axisData.xAxisTickPoint.map((t,e)=>{let a=V.some(t=>t===e);return t.show=!!a,t})),u&&J){let t=Qt;te?(u&&C&&(t-=oe+H),u&&q&&(t-=Z),t-=Dt/2):t=Xt,n.axisData.xAxisLinePoint={startX:Lt,startY:t,endX:zt+At/2,endY:t}}if(u&&Y){let t=Qt;te?(u&&C&&(t-=oe+H),u&&q&&(t-=Z),u&&J&&(t-=Dt/2)):t=Xt,n.axisData.xAxisNamePoint={text:N,x:zt+O,y:t}}}n.axisData.xStart=Lt,n.axisData.xEnd=zt,n.axisData.yStart=jt,n.axisData.yEnd=It,n.axisData.yIsSamePart=te,n.axisData.xIsSamePart=ee,n.axisData.yZero=Xt,n.axisData.yPlusSpacing=Yt,n.axisData.yMinusSpacing=Bt,n.axisData.ySpacing=Ot,n.axisData.yEachSpacing=Nt,n.axisData.xZero=Ct,n.axisData.xPlusSpacing=Rt,n.axisData.xMinusSpacing=Ht,n.axisData.xSpacing=Ft,n.axisData.xEachSpacing=$t,n.axisData.yMaxData=qt,n.axisData.yMinData=Gt,n.axisData.yDataRange=Zt,n.axisData.xMaxData=Ut,n.axisData.xMinData=Vt,n.axisData.xDataRange=Jt,this.chartData.axisData}function b(){let{context:t,opts:e,legendData:a,chartData:n}=this,{width:r,height:l,padding:s,radarAxis:h,categories:c}=e,{center:u,radius:f,splitNumber:x,axisName:d}=h,{show:p,textStyle:y}=d,{fontSize:g,margin:m}=y,[b,S]=u;n.radarAxis={center:[],radius:0,lineEndPosition:[],namePosition:[]},"string"==typeof b&&(b=r*o(b)),"string"==typeof S&&(S=(l-a.legendHeight-s[2])*o(S)),"string"==typeof f&&(f=(l-a.legendHeight-s[2])*o(f)/2),n.radarAxis.center=[b,S],n.radarAxis.radius=f;let v=2*Math.PI/c.length,w=Math.PI/2,M=[];for(let t=0;t<x;t++){let e=(x-t)/x;M[t]=c.reduce((t,a,r)=>{let o={x:f*Math.cos(w+v*r)*e,y:f*Math.sin(w+v*r)*e};return t.push(i(o,n.radarAxis.center)),t},[])}n.radarAxis.lineEndPosition=M,p&&(n.radarAxis.namePosition=c.reduce((e,a,r)=>{let o={x:(f+g/2+m)*Math.cos(w+v*r),y:(f+g/2+m)*Math.sin(w+v*r)},l=i(o,n.radarAxis.center);return t.font=g+"px",e.push({text:a,point:o,position:l}),e},[])),this.chartData.radarAxis}function S(){let{opts:t,chartData:e,seriesMap:a}=this,{xAxis:n,yAxis:i}=t,r=a.bar,{xStart:o,xEnd:l,yStart:s,yEnd:c,yZero:u,yPlusSpacing:f,yMinusSpacing:x,ySpacing:d,yEachSpacing:p,xZero:y,xPlusSpacing:g,xMinusSpacing:m,xSpacing:b,xEachSpacing:S,yMaxData:v,yMinData:w,yDataRange:M,xMaxData:A,xMinData:D,xDataRange:P,xAxisLabelPoint:k,yAxisLabelPoint:T}=e.axisData,_=0,E=0,W=0,L="value"==n.type?A:v,z="value"==n.type?D:w,j="value"==n.type?P:M,I="value"==n.type?g:f,X="value"==n.type?m:x,Y="value"==n.type?b:d,B="category"==n.type?S:p,O="category"==n.type?n.data:i.data,N={};r.forEach(t=>{t.stack?(N[t.stack]||(N[t.stack]=[]),N[t.stack].push(t)):(N[t.name]||(N[t.name]=[]),N[t.name].push(t))});let C=[];for(let t=0,e=O.length;t<e;t++){let t=[];Object.keys(N).forEach(e=>{t.push(h(N[e]))}),C.push(t)}C.forEach((t,e)=>{t.forEach((t,a)=>{t.forEach((a,n)=>{let i=!0;if(a.showIndex&&a.showIndex.length&&(i=a.showIndex.some(t=>t==chartBarArrIndex)),a.show=i,a.data=a.data[e],0==n){let{barMaxWidth:t,barMinWidth:n,barWidth:i,barGap:r}=a;"number"==typeof i?(i>t&&(a.barWidth=t),i<n&&(a.barWidth=n),0==e&&(W+=a.barWidth)):0==e&&E++}else a.barWidth=t[0].barWidth}),0==e&&(W+=0==a?2*t[0].barGap:t[0].barGap)})}),_=W+E<B?(B-W)/E:1,C.forEach((t,e)=>{t.forEach((t,a)=>{t.forEach((a,n)=>{let{barMaxWidth:i,barWidth:r}=a;0==n&&"auto"==r?a.barWidth=_>i?i:_:(a.barWidth=t[0].barWidth,a.barGap=t[0].barGap),0==e&&0==n&&"auto"==r&&(W+=a.barWidth)})})}),"category"==n.type?C.forEach((t,e)=>{let a=k[e].x-W/2;t.forEach((t,e)=>{a+=t[0].barGap+t[0].barWidth/2;let n=0,i=0;L>=0&&z>=0?n=s:L<=0&&z<=0?i=c:(n=u,i=u),t.forEach((t,e)=>{t.x=a;let r=0;L>=0&&z>=0?0==t.data?(t.y=s,r=0):(t.y=n,r=Y*(t.data-z)/j,n-=r):L<=0&&z<=0?0==t.data?(t.y=c,r=0):(t.y=i,r=Y*(Math.abs(t.data)-Math.abs(L))/j,i+=r):t.data>0?(t.y=n,r=I*t.data/L,n-=r):t.data<0?(t.y=i,r=X*Math.abs(t.data)/Math.abs(z),i+=r):(t.y=u,r=0),t.barHeight=r}),a+=t[0].barWidth/2})}):C.forEach((t,e)=>{let a=T[e].y+W/2;t.forEach((t,e)=>{a-=t[0].barGap+t[0].barWidth/2;let n=0,i=0;L>=0&&z>=0?n=o:L<=0&&z<=0?i=l:(n=y,i=y),t.forEach((t,e)=>{t.y=a;let r=0;L>=0&&z>=0?(t.x=n,r=Y*(t.data-z)/j,n+=r):L<=0&&z<=0?(t.x=i,r=Y*(Math.abs(t.data)-Math.abs(L))/j,i-=r):t.data>0?(t.x=n,r=I*t.data/L,n+=r):(t.x=i,r=X*Math.abs(t.data)/Math.abs(z),i-=r),t.barHeight=r}),a-=t[0].barWidth/2})}),e.chartBar=C,e.chartBar}function v(){let{opts:t,chartData:e,seriesMap:a}=this,{xAxis:n}=t,i=h(a.line),{xStart:r,xEnd:o,yStart:l,yEnd:s,yZero:c,yPlusSpacing:u,yMinusSpacing:f,ySpacing:x,xZero:d,xPlusSpacing:p,xMinusSpacing:y,xSpacing:g,yMaxData:m,yMinData:b,yDataRange:S,xMaxData:v,xMinData:w,xDataRange:M,xAxisLabelPoint:A,yAxisLabelPoint:D}=e.axisData,P="value"==n.type?v:m,k="value"==n.type?w:b,T="value"==n.type?M:S,_="value"==n.type?p:u,E="value"==n.type?y:f,W="value"==n.type?g:x,L=[];L="category"==n.type?i.reduce((t,e)=>(e.data=e.data.reduce((t,e,a)=>{let n,i,r;return"number"==typeof e&&(n=A[a].x,e=(e=e>P?P:e)<k?k:e,P>=0&&k>=0?(r=W*(e-k)/T,i=l-r):P<=0&&k<=0?(r=W*(Math.abs(e)-Math.abs(P))/T,i=s+r):e>0?(r=_*e/P,i=c-r):(r=E*Math.abs(e)/Math.abs(k),i=c+r)),t.push({x:n,y:i,data:e,height:r}),t},[]),t.push(e),t),[]):i.reduce((t,e)=>(e.data=e.data.reduce((t,e,a)=>{let n,i;return"number"==typeof e&&(i=D[a].y,e=(e=e>P?P:e)<k?k:e,P>=0&&k>=0?(itemHeight=W*(e-k)/T,n=r+itemHeight):P<=0&&k<=0?(itemHeight=W*(Math.abs(e)-Math.abs(P))/T,n=o-itemHeight):e>0?(itemHeight=_*e/P,n=d+itemHeight):(itemHeight=E*Math.abs(e)/Math.abs(k),n=d-itemHeight)),t.push({x:n,y:i,data:e,height:void 0}),t},[]),t.push(e),t),[]),e.chartLine=L,e.chartLine}function w(){let{opts:t,legendData:e,seriesMap:a}=this,{width:n,height:i,series:r,padding:l}=t,s=h(a.pie[0]),{data:c,center:u,radius:f}=s,[x,d]=u,[p,y]=f,g=c.reduce((t,e)=>t+=null===e.value?0:e.value,0);"string"==typeof x&&(x=n*o(x)),"string"==typeof d&&(d=(i-e.legendHeight-l[2])*o(d)),"string"==typeof p&&(p=(i-e.legendHeight-l[2])*o(p)/2),"string"==typeof y&&(y=(i-e.legendHeight-l[2])*o(y)/2);let m=c.concat([]).sort((t,e)=>e.value-t.value);s.valueSum=g,s.center=[x,d],s.radius=[p,y],s.maxData=m[0].value,s.minData=m[m.length-1].value,this.chartData.chartPie=s,this.chartData.chartPie}function M(){let{opts:t,chartData:e,seriesMap:a}=this,{radarAxis:n,categories:i,series:r}=t,o=h(a.radar),{max:l}=n,{radius:s}=e.radarAxis,c=0;r.forEach(t=>{c=Math.max(c,...t.data)}),c="auto"==l?c:l;let u=2*Math.PI/i.length,f=Math.PI/2;o.forEach(t=>{t.dataPosition=t.data.reduce((t,e,a)=>{let n=e/c,i={x:s*Math.cos(f+u*a)*n,y:s*Math.sin(f+u*a)*n};return t.push({data:e,point:i}),t},[])}),e.chartRadar=o,this.chartData.chartRadar}function A(){let{opts:t,chartData:e,seriesMap:i}=this,{xStart:r,xEnd:o,yStart:l,yEnd:s,yZero:c,yPlusSpacing:u,yMinusSpacing:f,ySpacing:x,xZero:d,xPlusSpacing:p,xMinusSpacing:y,xSpacing:g,yMaxData:m,yMinData:b,yDataRange:S,xMaxData:v,xMinData:w,xDataRange:M}=e.axisData,A=h(i.scatter);e.chartScatter=A.map(t=>{let e,i,h,A,D,P,k,T,_,{data:E,radius:W,itemStyle:L}=t,{color:z}=L;if("number"!=typeof W){e=W[1],i=W[0],h=e-i;let t=E.concat([]).sort((t,e)=>t.z-e.z);A=t[t.length-1].z,D=t[0].z?t[0].z:0,P=A-D}if("string"!=typeof z){let[e,n]=z;k=a(n),T=a(e),_=[k[0]-T[0],k[1]-T[1],k[2]-T[2]],t.label.color="#000000"}return t.data=E.concat([]).map(t=>{let e,a,{x:A,y:k,z:E}=t;if(a=m>=0&&m>=0?l-x*(k-b)/S:b<=0&&b<=0?s+x*(Math.abs(k)-Math.abs(m))/S:k>0?c-u*k/m:c+f*Math.abs(k)/Math.abs(b),e=v>=0&&v>=0?r+g*(A-w)/M:w<=0&&w<=0?o-g*(Math.abs(A)-Math.abs(v))/M:A>0?d+p*A/v:d-y*Math.abs(A)/Math.abs(w),t.positionX=e,t.positionY=a,"number"!=typeof W){t.z=E||0;let e=(E-D)/P;t.radius=i+h*e}else t.radius=W;if("string"!=typeof z){t.z=E||0;let e=(E-D)/P,a=[T[0]+_[0]*e,T[1]+_[1]*e,T[2]+_[2]*e];t.color=n(a)}else t.color=z;return t}),t}),this.chartData.chartScatter}function D(){let{opts:t,legendData:e,chartData:a,seriesMap:n}=this,{width:i,height:r,series:l,padding:s}=t,h=n.funnel[0],{data:c,width:u,height:f,top:x,left:d,right:p,bottom:y,max:g,min:m,gap:b,sort:S,shape:v,funnelAlign:w,label:M,itemStyle:A}=h,D=s[3],P=i-s[1],k=s[0],T=r-s[2]-e.legendHeight,_=P-D,E=T-k;g=g>100?100:g,m=m<0?0:m,D="auto"==d?D:D+_*o(d),P="auto"==p?P:P-_*o(p),k="auto"==x?k:k+E*o(x),T="auto"==y?T:T-E*o(y),_="auto"==u?P-D:_*o(u),E="auto"==f?T-k:E*o(f);let W,L,z=(E-(c.length-1)*b)/c.length;c.forEach(t=>{t.value=t.value>g?g:t.value,t.value=t.value<m?m:t.value,t.width=_*(t.value/g),t.height=z}),"left"==w?(W=D,L=k):"right"==w?(W=P,L=k):(W="ascending"==S?D+c[c.length-1].width/2-c[0].width/2:D,L=k),c.forEach((t,e)=>{let a,n=[];"left"==w?"descending"==S?e+1==c.length?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W,y:L+t.height})):(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+c[e+1].width,y:L+t.height}),n.push({x:W,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):(n.push({x:W,y:L}),n.push({x:W+c[e-1].width,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height}))):"right"==w?"descending"==S?e+1==c.length?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W-t.width,y:L}),n.push({x:W-t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W,y:L}),n.push({x:W-t.width,y:L}),n.push({x:W,y:L+t.height})):(n.push({x:W,y:L}),n.push({x:W-t.width,y:L}),n.push({x:W-c[e+1].width,y:L+t.height}),n.push({x:W,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W-t.width,y:L}),n.push({x:W-t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W,y:L}),n.push({x:W-t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):(n.push({x:W,y:L}),n.push({x:W-c[e-1].width,y:L}),n.push({x:W-t.width,y:L+t.height}),n.push({x:W,y:L+t.height}))):"descending"==S?e+1==c.length?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width/2,y:L+t.height})):(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width/2+c[e+1].width/2,y:L+t.height}),n.push({x:W+t.width/2-c[e+1].width/2,y:L+t.height})):"ascending"==S&&(0==e?"funnel"==v?(n.push({x:W,y:L}),n.push({x:W+t.width,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):"pyramid"==v&&(n.push({x:W+t.width/2,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height})):(n.push({x:W+t.width/2-c[e-1].width/2,y:L}),n.push({x:W+t.width/2+c[e-1].width/2,y:L}),n.push({x:W+t.width,y:L+t.height}),n.push({x:W,y:L+t.height}))),t.point=n,a="descending"==S?e+1==c.length?"funnel"==v?t.width:t.width/2:(t.width+c[e+1].width)/2:0==e?"funnel"==v?t.width:t.width/2:(t.width+c[e-1].width)/2,"inside"==M.position?t.textPoint="left"==w?{x:W+a/2,y:L+t.height/2}:"right"==w?{x:W-a/2,y:L+t.height/2}:{x:W+t.width/2,y:L+t.height/2}:t.textPoint="left"==w?{x:W+a+M.margin,y:L+t.height/2}:"right"==w?{x:W-a-M.margin,y:L+t.height/2}:{x:W+t.width/2+a/2+M.margin,y:L+t.height/2},e+1!==c.length&&("center"==w?(W=W+t.width/2-c[e+1].width/2,L=L+t.height+b):L=L+t.height+b)}),a.chartFunnel=h,this.chartData.chartFunnel}function P(){let{opts:t,chartData:e,legendData:a}=this,{height:n,padding:i,series:r}=t,o=r.filter(t=>"candlestick"==t.type||"k"==t.type);if(0==o.length)return;let l,s,h,c,{data:u,barMaxWidth:f,barMinWidth:x,barWidth:d,itemStyle:p,highLine:y,lowLine:g,bar:m}=o[0],{color:b,bordercolor:S,opacity:v,color0:w,bordercolor0:M,opacity0:A,borderWidth:D}=p,{show:P,lineStyle:k}=y,{show:T,lineStyle:_}=g,{show:E,height:W,margin:L,data:z,lineStyle:j}=m,{xStart:I,xEnd:X,yStart:Y,yEnd:B,yZero:O,yPlusSpacing:N,yMinusSpacing:C,ySpacing:R,xZero:H,xPlusSpacing:F,xMinusSpacing:$,xEachSpacing:q,xSpacing:G,yMaxData:Z,yMinData:U,yDataRange:V,xMaxData:J,xMinData:K,xDataRange:Q,xAxisLabelPoint:tt,yAxisLabelPoint:et}=e.axisData,at=0,nt=1/0;if("auto"==d&&(d=q>f?f:q,d=d>3?d-2:d),l=u.reduce((t,e,a)=>{at=Math.max(e[1],at),nt=Math.min(e[1],nt);let n={};return n.color=e[0]>e[1]?w:b,n.bordercolor=e[0]>e[1]?M:S,n.opacity=e[0]>e[1]?v:A,n.borderWidth=D,n.upLinePoint={startX:tt[a].x,startY:Y-R*(e[3]-U)/V,endX:tt[a].x,endY:Y-R*(Math.max(e[0],e[1])-U)/V},n.downLinePoint={startX:tt[a].x,startY:Y-R*(e[2]-U)/V,endX:tt[a].x,endY:Y-R*(Math.min(e[0],e[1])-U)/V},n.rectPoint={x:Math.floor(tt[a].x-d/2),y:Y-R*(Math.max(e[0],e[1])-U)/V,width:d,height:R*Math.abs(e[0]-e[1])/V},t.push(n),t},[]),P&&(s={data:at,startX:I,startY:Y-R*(at-U)/V,endX:X,endY:Y-R*(at-U)/V}),T&&(h={data:nt,startX:I,startY:Y-R*(nt-U)/V,endX:X,endY:Y-R*(nt-U)/V}),E){let t=Math.max(...z),e=Math.min(...z),r=t-e;c=l.reduce((t,o,l)=>{let{color:s,rectPoint:h}=o,{x:c,width:u}=h,f=n-i[2]-a.legendHeight-j.lineWidth/2,x=.2*W+.8*W*(z[l]-e)/r;return t.push({color:s,x:c,y:f,width:u,height:x,lineStartX:I,lineStartY:f,lineEndX:X,lineEndY:f}),t},[])}this.chartData.chartCandlestick={rect:l,highLine:s,lowhLine:h,bar:c},this.chartData.chartCandlestick}function k(){let{chartData:t,seriesMap:e}=this,{xStart:i,yStart:r,xEachSpacing:o,yEachSpacing:l}=t.axisData,s=h(e.heatmap);t.chartHeatmap=s.map(t=>{let e,s,h,c,u,f,{data:x,itemStyle:d}=t,{color:p,useSplit:y}=d,g=x.concat([]).sort((t,e)=>t[2]-e[2]);e=g[g.length-1][2],s=g[0][2],h=e-s;let[m,b]=p;return c=a(b),u=a(m),f=[c[0]-u[0],c[1]-u[1],c[2]-u[2]],t.data=x.map(t=>{let e,a,[c,x,d]=t;e=i+c*o,a=r-(x+1)*l,t.positionX=e,t.positionY=a,d=d||0;let p=(d-s)/h,g=[u[0]+f[0]*p,u[1]+f[1]*p,u[2]+f[2]*p];return t.color=n(g),t.useSplit=y,t}),t}),this.chartData.chartHeatmap}function T(t,e){return t.parent===e.parent?1:2}function _(t,e){return t+e.x}function E(t,e){return Math.max(t,e.y)}function W(t){var e=0,a=t.children,n=a&&a.length;if(n)for(;--n>=0;)e+=a[n].value;else e=1;t.value=e}function L(t,e){var a,n,i,r,o,l=new X(t),s=+t.value&&(l.value=t.value),h=[l];for(null==e&&(e=z);a=h.pop();)if(s&&(a.value=+a.data.value),(i=e(a.data))&&(o=i.length))for(a.children=new Array(o),r=o-1;r>=0;--r)h.push(n=a.children[r]=new X(i[r])),n.parent=a,n.depth=a.depth+1;return l.eachBefore(I)}function z(t){return t.children}function j(t){t.data=t.data.data}function I(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function X(t){this.data=t,this.depth=this.height=0,this.parent=null}X.prototype=L.prototype={constructor:X,count:function(){return this.eachAfter(W)},each:function(t){var e,a,n,i,r=this,o=[r];do{for(e=o.reverse(),o=[];r=e.pop();)if(t(r),a=r.children)for(n=0,i=a.length;n<i;++n)o.push(a[n])}while(o.length);return this},eachAfter:function(t){for(var e,a,n,i=this,r=[i],o=[];i=r.pop();)if(o.push(i),e=i.children)for(a=0,n=e.length;a<n;++a)r.push(e[a]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,a,n=this,i=[n];n=i.pop();)if(t(n),e=n.children)for(a=e.length-1;a>=0;--a)i.push(e[a]);return this},sum:function(t){return this.eachAfter((function(e){for(var a=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)a+=n[i].value;e.value=a}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,a=function(t,e){if(t===e)return t;var a=t.ancestors(),n=e.ancestors(),i=null;t=a.pop(),e=n.pop();for(;t===e;)i=t,t=a.pop(),e=n.pop();return i}(e,t),n=[e];e!==a;)e=e.parent,n.push(e);for(var i=n.length;t!==a;)n.splice(i,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(a){a!==t&&e.push({source:a.parent,target:a})})),e},copy:function(){return L(this).eachBefore(j)}};var Y=Array.prototype.slice;function B(t){for(var e,a,n=0,i=(t=function(t){for(var e,a,n=t.length;n;)a=Math.random()*n--|0,e=t[n],t[n]=t[a],t[a]=e;return t}(Y.call(t))).length,r=[];n<i;)e=t[n],a&&C(a,e)?++n:(a=H(r=O(r,e)),n=0);return a}function O(t,e){var a,n;if(R(e,t))return[e];for(a=0;a<t.length;++a)if(N(e,t[a])&&R(F(t[a],e),t))return[t[a],e];for(a=0;a<t.length-1;++a)for(n=a+1;n<t.length;++n)if(N(F(t[a],t[n]),e)&&N(F(t[a],e),t[n])&&N(F(t[n],e),t[a])&&R($(t[a],t[n],e),t))return[t[a],t[n],e];throw new Error}function N(t,e){var a=t.r-e.r,n=e.x-t.x,i=e.y-t.y;return a<0||a*a<n*n+i*i}function C(t,e){var a=t.r-e.r+1e-6,n=e.x-t.x,i=e.y-t.y;return a>0&&a*a>n*n+i*i}function R(t,e){for(var a=0;a<e.length;++a)if(!C(t,e[a]))return!1;return!0}function H(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return F(t[0],t[1]);case 3:return $(t[0],t[1],t[2])}var e}function F(t,e){var a=t.x,n=t.y,i=t.r,r=e.x,o=e.y,l=e.r,s=r-a,h=o-n,c=l-i,u=Math.sqrt(s*s+h*h);return{x:(a+r+s/u*c)/2,y:(n+o+h/u*c)/2,r:(u+i+l)/2}}function $(t,e,a){var n=t.x,i=t.y,r=t.r,o=e.x,l=e.y,s=e.r,h=a.x,c=a.y,u=a.r,f=n-o,x=n-h,d=i-l,p=i-c,y=s-r,g=u-r,m=n*n+i*i-r*r,b=m-o*o-l*l+s*s,S=m-h*h-c*c+u*u,v=x*d-f*p,w=(d*S-p*b)/(2*v)-n,M=(p*y-d*g)/v,A=(x*b-f*S)/(2*v)-i,D=(f*g-x*y)/v,P=M*M+D*D-1,k=2*(r+w*M+A*D),T=w*w+A*A-r*r,_=-(P?(k+Math.sqrt(k*k-4*P*T))/(2*P):T/k);return{x:n+w+M*_,y:i+A+D*_,r:_}}function q(t,e,a){var n,i,r,o,l=t.x-e.x,s=t.y-e.y,h=l*l+s*s;h?(i=e.r+a.r,i*=i,o=t.r+a.r,i>(o*=o)?(n=(h+o-i)/(2*h),r=Math.sqrt(Math.max(0,o/h-n*n)),a.x=t.x-n*l-r*s,a.y=t.y-n*s+r*l):(n=(h+i-o)/(2*h),r=Math.sqrt(Math.max(0,i/h-n*n)),a.x=e.x+n*l-r*s,a.y=e.y+n*s+r*l)):(a.x=e.x+a.r,a.y=e.y)}function G(t,e){var a=t.r+e.r-1e-6,n=e.x-t.x,i=e.y-t.y;return a>0&&a*a>n*n+i*i}function Z(t){var e=t._,a=t.next._,n=e.r+a.r,i=(e.x*a.r+a.x*e.r)/n,r=(e.y*a.r+a.y*e.r)/n;return i*i+r*r}function U(t){this._=t,this.next=null,this.previous=null}function V(t){if(!(i=t.length))return 0;var e,a,n,i,r,o,l,s,h,c,u;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(a=t[1],e.x=-a.r,a.x=e.r,a.y=0,!(i>2))return e.r+a.r;q(a,e,n=t[2]),e=new U(e),a=new U(a),n=new U(n),e.next=n.previous=a,a.next=e.previous=n,n.next=a.previous=e;t:for(l=3;l<i;++l){q(e._,a._,n=t[l]),n=new U(n),s=a.next,h=e.previous,c=a._.r,u=e._.r;do{if(c<=u){if(G(s._,n._)){a=s,e.next=a,a.previous=e,--l;continue t}c+=s._.r,s=s.next}else{if(G(h._,n._)){(e=h).next=a,a.previous=e,--l;continue t}u+=h._.r,h=h.previous}}while(s!==h.next);for(n.previous=e,n.next=a,e.next=a.previous=a=n,r=Z(e);(n=n.next)!==a;)(o=Z(n))<r&&(e=n,r=o);a=e.next}for(e=[a._],n=a;(n=n.next)!==a;)e.push(n._);for(n=B(e),l=0;l<i;++l)(e=t[l]).x-=n.x,e.y-=n.y;return n.r}function J(t){return null==t?null:K(t)}function K(t){if("function"!=typeof t)throw new Error;return t}function Q(){return 0}function tt(t){return function(){return t}}function et(t){return Math.sqrt(t.value)}function at(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function nt(t,e){return function(a){if(n=a.children){var n,i,r,o=n.length,l=t(a)*e||0;if(l)for(i=0;i<o;++i)n[i].r+=l;if(r=V(n),l)for(i=0;i<o;++i)n[i].r-=l;a.r=r+l}}}function it(t){return function(e){var a=e.parent;e.r*=t,a&&(e.x=a.x+t*e.x,e.y=a.y+t*e.y)}}function rt(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ot(t,e,a,n,i){for(var r,o=t.children,l=-1,s=o.length,h=t.value&&(n-e)/t.value;++l<s;)(r=o[l]).y0=a,r.y1=i,r.x0=e,r.x1=e+=r.value*h}var lt={depth:-1},st={};function ht(t){return t.id}function ct(t){return t.parentId}function ut(t,e){return t.parent===e.parent?1:2}function ft(t){var e=t.children;return e?e[0]:t.t}function xt(t){var e=t.children;return e?e[e.length-1]:t.t}function dt(t,e,a){var n=a/(e.i-t.i);e.c-=n,e.s+=a,t.c+=n,e.z+=a,e.m+=a}function pt(t,e,a){return t.a.parent===e.parent?t.a:a}function yt(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function gt(t,e,a,n,i){for(var r,o=t.children,l=-1,s=o.length,h=t.value&&(i-a)/t.value;++l<s;)(r=o[l]).x0=e,r.x1=n,r.y0=a,r.y1=a+=r.value*h}yt.prototype=Object.create(X.prototype);var mt=(1+Math.sqrt(5))/2;function bt(t,e,a,n,i,r){for(var o,l,s,h,c,u,f,x,d,p,y,g=[],m=e.children,b=0,S=0,v=m.length,w=e.value;b<v;){s=i-a,h=r-n;do{c=m[S++].value}while(!c&&S<v);for(u=f=c,y=c*c*(p=Math.max(h/s,s/h)/(w*t)),d=Math.max(f/y,y/u);S<v;++S){if(c+=l=m[S].value,l<u&&(u=l),l>f&&(f=l),y=c*c*p,(x=Math.max(f/y,y/u))>d){c-=l;break}d=x}g.push(o={value:c,dice:s<h,children:m.slice(b,S)}),o.dice?ot(o,a,n,i,w?n+=h*c/w:r):gt(o,a,n,w?a+=s*c/w:i,r),w-=c,b=S}return g}var St=function t(e){function a(t,a,n,i,r){bt(e,t,a,n,i,r)}return a.ratio=function(e){return t((e=+e)>1?e:1)},a}(mt);function vt(){var t=St,e=!1,a=1,n=1,i=[0],r=Q,o=Q,l=Q,s=Q,h=Q;function c(t){return t.x0=t.y0=0,t.x1=a,t.y1=n,t.eachBefore(u),i=[0],e&&t.eachBefore(rt),t}function u(e){var a=i[e.depth],n=e.x0+a,c=e.y0+a,u=e.x1-a,f=e.y1-a;u<n&&(n=u=(n+u)/2),f<c&&(c=f=(c+f)/2),e.x0=n,e.y0=c,e.x1=u,e.y1=f,e.children&&(a=i[e.depth+1]=r(e)/2,n+=h(e)-a,c+=o(e)-a,(u-=l(e)-a)<n&&(n=u=(n+u)/2),(f-=s(e)-a)<c&&(c=f=(c+f)/2),t(e,n,c,u,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(a=+t[0],n=+t[1],c):[a,n]},c.tile=function(e){return arguments.length?(t=K(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(r="function"==typeof t?t:tt(+t),c):r},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:tt(+t),c):o},c.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:tt(+t),c):l},c.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:tt(+t),c):s},c.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:tt(+t),c):h},c}var wt=function t(e){function a(t,a,n,i,r){if((o=t._squarify)&&o.ratio===e)for(var o,l,s,h,c,u=-1,f=o.length,x=t.value;++u<f;){for(s=(l=o[u]).children,h=l.value=0,c=s.length;h<c;++h)l.value+=s[h].value;l.dice?ot(l,a,n,i,n+=(r-n)*l.value/x):gt(l,a,n,a+=(i-a)*l.value/x,r),x-=l.value}else t._squarify=o=bt(e,t,a,n,i,r),o.ratio=e}return a.ratio=function(e){return t((e=+e)>1?e:1)},a}(mt),Mt=Object.freeze({__proto__:null,cluster:function(){var t=T,e=1,a=1,n=!1;function i(i){var r,o=0;i.eachAfter((function(e){var a=e.children;a?(e.x=function(t){return t.reduce(_,0)/t.length}(a),e.y=function(t){return 1+t.reduce(E,0)}(a)):(e.x=r?o+=t(e,r):0,e.y=0,r=e)}));var l=function(t){for(var e;e=t.children;)t=e[0];return t}(i),s=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),h=l.x-t(l,s)/2,c=s.x+t(s,l)/2;return i.eachAfter(n?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*a}:function(t){t.x=(t.x-h)/(c-h)*e,t.y=(1-(i.y?t.y/i.y:1))*a})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(n=!1,e=+t[0],a=+t[1],i):n?null:[e,a]},i.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],a=+t[1],i):n?[e,a]:null},i},hierarchy:L,pack:function(){var t=null,e=1,a=1,n=Q;function i(i){return i.x=e/2,i.y=a/2,t?i.eachBefore(at(t)).eachAfter(nt(n,.5)).eachBefore(it(1)):i.eachBefore(at(et)).eachAfter(nt(Q,1)).eachAfter(nt(n,i.r/Math.min(e,a))).eachBefore(it(Math.min(e,a)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=J(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],a=+t[1],i):[e,a]},i.padding=function(t){return arguments.length?(n="function"==typeof t?t:tt(+t),i):n},i},packSiblings:function(t){return V(t),t},packEnclose:B,partition:function(){var t=1,e=1,a=0,n=!1;function i(i){var r=i.height+1;return i.x0=i.y0=a,i.x1=t,i.y1=e/r,i.eachBefore(function(t,e){return function(n){n.children&&ot(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,r=n.y0,o=n.x1-a,l=n.y1-a;o<i&&(i=o=(i+o)/2),l<r&&(r=l=(r+l)/2),n.x0=i,n.y0=r,n.x1=o,n.y1=l}}(e,r)),n&&i.eachBefore(rt),i}return i.round=function(t){return arguments.length?(n=!!t,i):n},i.size=function(a){return arguments.length?(t=+a[0],e=+a[1],i):[t,e]},i.padding=function(t){return arguments.length?(a=+t,i):a},i},stratify:function(){var t=ht,e=ct;function a(a){var n,i,r,o,l,s,h,c=a.length,u=new Array(c),f={};for(i=0;i<c;++i)n=a[i],l=u[i]=new X(n),null!=(s=t(n,i,a))&&(s+="")&&(f[h="$"+(l.id=s)]=h in f?st:l);for(i=0;i<c;++i)if(l=u[i],null!=(s=e(a[i],i,a))&&(s+="")){if(!(o=f["$"+s]))throw new Error("missing: "+s);if(o===st)throw new Error("ambiguous: "+s);o.children?o.children.push(l):o.children=[l],l.parent=o}else{if(r)throw new Error("multiple roots");r=l}if(!r)throw new Error("no root");if(r.parent=lt,r.eachBefore((function(t){t.depth=t.parent.depth+1,--c})).eachBefore(I),r.parent=null,c>0)throw new Error("cycle");return r}return a.id=function(e){return arguments.length?(t=K(e),a):t},a.parentId=function(t){return arguments.length?(e=K(t),a):e},a},tree:function(){var t=ut,e=1,a=1,n=null;function i(i){var s=function(t){for(var e,a,n,i,r,o=new yt(t,0),l=[o];e=l.pop();)if(n=e._.children)for(e.children=new Array(r=n.length),i=r-1;i>=0;--i)l.push(a=e.children[i]=new yt(n[i],i)),a.parent=e;return(o.parent=new yt(null,0)).children=[o],o}(i);if(s.eachAfter(r),s.parent.m=-s.z,s.eachBefore(o),n)i.eachBefore(l);else{var h=i,c=i,u=i;i.eachBefore((function(t){t.x<h.x&&(h=t),t.x>c.x&&(c=t),t.depth>u.depth&&(u=t)}));var f=h===c?1:t(h,c)/2,x=f-h.x,d=e/(c.x+f+x),p=a/(u.depth||1);i.eachBefore((function(t){t.x=(t.x+x)*d,t.y=t.depth*p}))}return i}function r(e){var a=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(a){!function(t){for(var e,a=0,n=0,i=t.children,r=i.length;--r>=0;)(e=i[r]).z+=a,e.m+=a,a+=e.s+(n+=e.c)}(e);var r=(a[0].z+a[a.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-r):e.z=r}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,a,n){if(a){for(var i,r=e,o=e,l=a,s=r.parent.children[0],h=r.m,c=o.m,u=l.m,f=s.m;l=xt(l),r=ft(r),l&&r;)s=ft(s),(o=xt(o)).a=e,(i=l.z+u-r.z-h+t(l._,r._))>0&&(dt(pt(l,e,n),e,i),h+=i,c+=i),u+=l.m,h+=r.m,f+=s.m,c+=o.m;l&&!xt(o)&&(o.t=l,o.m+=u-c),r&&!ft(s)&&(s.t=r,s.m+=h-f,n=e)}return n}(e,i,e.parent.A||n[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*a}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(n=!1,e=+t[0],a=+t[1],i):n?null:[e,a]},i.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],a=+t[1],i):n?[e,a]:null},i},treemap:vt,treemapBinary:function(t,e,a,n,i){var r,o,l=t.children,s=l.length,h=new Array(s+1);for(h[0]=o=r=0;r<s;++r)h[r+1]=o+=l[r].value;!function t(e,a,n,i,r,o,s){if(e>=a-1){var c=l[e];return c.x0=i,c.y0=r,c.x1=o,void(c.y1=s)}var u=h[e],f=n/2+u,x=e+1,d=a-1;for(;x<d;){var p=x+d>>>1;h[p]<f?x=p+1:d=p}f-h[x-1]<h[x]-f&&e+1<x&&--x;var y=h[x]-u,g=n-y;if(o-i>s-r){var m=(i*g+o*y)/n;t(e,x,y,i,r,m,s),t(x,a,g,m,r,o,s)}else{var b=(r*g+s*y)/n;t(e,x,y,i,r,o,b),t(x,a,g,i,b,o,s)}}(0,s,t.value,e,a,n,i)},treemapDice:ot,treemapSlice:gt,treemapSliceDice:function(t,e,a,n,i){(1&t.depth?gt:ot)(t,e,a,n,i)},treemapSquarify:St,treemapResquarify:wt});function At(){let{opts:t,legendData:e,chartData:a,seriesMap:n}=this,{width:i,height:r,padding:o}=t,l=n.treemap[0];l.tile=(l.tile,l.tile);let s=L(l,(function(t){return t.data})).sum((function(t){return t.value})),h=vt().tile(Mt[l.tile]).size([i,r]).paddingTop(o[0]).paddingRight(o[1]).paddingBottom(o[2]+e.legendHeight).paddingLeft(o[3])(s);a.chartTreemap=h,a.chartTreemap}const Dt=Math.PI/180;let Pt,kt;function Tt(t){return t.text}function _t(){return"Serif"}function Et(){return"normal"}function Wt(t){return t.value}function Lt(){return 90*~~(2*Math.random())}function zt(){return 1}function jt(t,e,a,n){if(e.sprite)return;const i=t.context,r=t.ratio;i.clearRect(0,0,(Pt<<5)/r,kt/r);let o=0,l=0,s=0;const h=a.length;for(--n;++n<h;){e=a[n],i.save(),i.fillStyle=i.strokeStyle="#ff0000",i.textAlign="center",i.font=`${e.style} ${e.weight} ${~~((e.size+1)/r)}px ${e.font}`;let t=i.measureText(e.text+"m").width*r,h=e.size<<1;if(e.rotate){const a=Math.sin(e.rotate*Dt),n=Math.cos(e.rotate*Dt),i=t*n,r=t*a,o=h*n,l=h*a;t=Math.max(Math.abs(i+l),Math.abs(i-l))+31>>5<<5,h=~~Math.max(Math.abs(r+o),Math.abs(r-o))}else t=t+31>>5<<5;if(h>s&&(s=h),o+t>=Pt<<5&&(o=0,l+=s,s=0),l+h>=kt)break;i.translate((o+(t>>1))/r,(l+(h>>1))/r),e.rotate&&i.rotate(e.rotate*Dt),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=t,e.height=h,e.xoff=o,e.yoff=l,e.x1=t>>1,e.y1=h>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=t}const c=i.getImageData(0,0,(Pt<<5)/r,kt/r).data,u=[];for(;--n>=0;){if(!(e=a[n]).hasText)continue;const t=e.width,i=t>>5;let r=e.y1-e.y0;for(let t=0;t<r*i;t++)u[t]=0;if(o=e.xoff,null==o)return;l=e.yoff;let s=0,h=-1;for(let a=0;a<r;a++){for(let e=0;e<t;e++){let t=i*a+(e>>5),n=c[(l+a)*(Pt<<5)+(o+e)<<2]?1<<31-e%32:0;u[t]|=n,s|=n}s?h=a:(e.y0++,r--,a--,l++)}e.y1=e.y0+h,e.sprite=u.slice(0,(e.y1-e.y0)*i)}}function It(t,e,a){a>>=5;const n=t.sprite,i=t.width>>5,r=t.x-(i<<4),o=127&r,l=32-o,s=t.y1-t.y0;let h,c=(t.y+t.y0)*a+(r>>5);for(let t=0;t<s;t++){h=0;for(let a=0;a<=i;a++)if((h<<l|(a<i?(h=n[t*i+a])>>>o:0))&e[c+a])return!0;c+=a}return!1}function Xt(t,e){const a=t[0],n=t[1];e.x+e.x0<a.x&&(a.x=e.x+e.x0),e.y+e.y0<a.y&&(a.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}function Yt(t){let e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Bt(t){const e=[];let a=-1;for(;++a<t;)e[a]=0;return e}function Ot(t){return"function"==typeof t?t:function(){return t}}const Nt={archimedean:Yt,rectangular:function(t){const e=4*t[0]/t[1];let a=0,n=0;return function(t){const i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:a+=e;break;case 1:n+=4;break;case 2:a-=e;break;default:n-=4}return[a,n]}}};function Ct(){let t=[256,256],e=Tt,a=_t,n=Wt,i=Et,r=Et,o=Lt,l=zt,s=Yt,h=[],c=1/0,u=Math.random,f=null,x=function(){};const d={};function p(e,a,n){const i=a.x,r=a.y,o=Math.sqrt(t[0]*t[0]+t[1]*t[1]),l=s(t),h=u()<.5?1:-1;let c,f,x,d=-h;for(;(c=l(d+=h))&&(f=~~c[0],x=~~c[1],!(Math.min(Math.abs(f),Math.abs(x))>=o));)if(a.x=i+f,a.y=r+x,!(a.x+a.x0<0||a.y+a.y0<0||a.x+a.x1>t[0]||a.y+a.y1>t[1]||n&&It(a,e,t[0])||n&&(y=n,!((p=a).x+p.x1>y[0].x&&p.x+p.x0<y[1].x&&p.y+p.y1>y[0].y&&p.y+p.y0<y[1].y)))){const n=a.sprite,i=a.width>>5,r=t[0]>>5,o=a.x-(i<<4),l=127&o,s=32-l,h=a.y1-a.y0;let c,u=(a.y+a.y0)*r+(o>>5);for(let t=0;t<h;t++){c=0;for(let a=0;a<=i;a++)e[u+a]|=c<<s|(a<i?(c=n[t*i+a])>>>l:0);u+=r}return delete a.sprite,!0}var p,y;return!1}return d.end=function(t){return arguments.length?(x=Ot(t),d):x},d.canvas=function(t){return arguments.length?(f=Ot(t),d):f},d.start=function(){const s=Math.min(...t);Pt=s>>5,kt=s;const y=function(t){t.width=t.height=1;const e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(Pt<<5)/e,t.height=kt/e;const a=t.getContext("2d");return a.fillStyle=a.strokeStyle="#ff0000",a.textAlign="center",{context:a,ratio:e}}(f()),g=d.board?d.board:Bt((t[0]>>5)*t[1]),m=h.length,b=[],S=h.map((function(t,s){return t.text=e.call(this,t,s),t.font=a.call(this,t,s),t.style=i.call(this,t,s),t.weight=r.call(this,t,s),t.rotate=o.call(this,t,s),t.size=~~n.call(this,t,s),t.padding=l.call(this,t,s),t})).sort((function(t,e){return e.size-t.size}));let v=-1,w=d.board?[{x:0,y:0},{x:t[0],y:t[1]}]:null;return function(){const e=Date.now();for(;Date.now()-e<c&&++v<m;){const e=S[v];e.x=t[0]*(u()+.5)>>1,e.y=t[1]*(u()+.5)>>1,jt(y,e,S,v),e.hasText&&p(g,e,w)&&(b.push(e),w?d.hasImage||Xt(w,e):w=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}v>=m&&x(b);d._tags=b,d._bounds=w}(),d},d.createMask=e=>{const a=f(),[n,i]=t,r=n>>5,o=Bt((n>>5)*i);a.width=n,a.height=i;const l=a.getContext("2d");l.drawImage(e,0,0,e.width,e.height,0,0,n,i);const s=l.getImageData(0,0,n,i).data;for(let t=0;t<i;t++)for(let e=0;e<n;e++){const a=r*t+(e>>5),i=t*n+e<<2,l=s[i]>=250&&s[i+1]>=250&&s[i+2]>=250?1<<31-e%32:0;o[a]|=l}return d.board=o,d.hasImage=!0,d},d.timeInterval=function(t){return arguments.length?(c=null==t?1/0:t,d):c},d.words=function(t){return arguments.length?(h=t,d):h},d.size=function(e){return arguments.length?(t=[+e[0],+e[1]],d):t},d.font=function(t){return arguments.length?(a=Ot(t),d):a},d.fontStyle=function(t){return arguments.length?(i=Ot(t),d):i},d.fontWeight=function(t){return arguments.length?(r=Ot(t),d):r},d.rotate=function(t){return arguments.length?(o=Ot(t),d):o},d.text=function(t){return arguments.length?(e=Ot(t),d):e},d.spiral=function(t){return arguments.length?(s=Nt[t]||t,d):s},d.fontSize=function(t){return arguments.length?(n=Ot(t),d):n},d.padding=function(t){return arguments.length?(l=Ot(t),d):l},d.random=function(t){return arguments.length?(u=t,d):u},d}function Rt(){let{opts:t,chartData:e,seriesMap:a}=this,{element:n,width:i,height:r}=t,o=h(a.tagCloud[0]);const l=Ct();l.canvas(o.canvas||n),l.size(o.size||[i,r]),l.words(o.data),l.end((function(t){o.data=t,e.chartTagCloud=o})),o.font&&l.font(o.font),o.fontSize&&l.fontSize(o.fontSize),o.padding&&l.padding(o.padding),o.rotate&&l.rotate(o.rotate),o.spiral&&l.spiral(o.spiral),o.timeInterval&&l.timeInterval(o.timeInterval),o.imageMask&&l.createMask(o.imageMask),l.start(),e.chartTagCloud}function Ht(t=0,e=0,a=this.opts.width,n=this.opts.height){this.context.fillStyle=this.opts.backgroundColor,this.context.fillRect(t,e,a,n)}function Ft(){if(!this.opts.legend.show)return;let t,{context:e,opts:a,legendData:n}=this,{width:i,height:r,legend:o,padding:l}=a,{shapeWidth:s,shapeHeight:h,shapeRadius:c,itemGap:u,marginTop:f,textStyle:x}=o,{fontSize:d,color:p,padding:y}=x,{legendList:g,legendWidth:m,legendHeight:b}=n,S=r-l[2]-b+f,v=l[3]+(i-l[1]-l[3]-m)/2;g.forEach((a,n)=>{v=l[3]+(i-l[1]-l[3]-m)/2,a.forEach(a=>{let{legendType:n,color:i,name:r,measureText:o}=a;switch(n){case"circle":t=Math.max(2*c,d),e.beginPath(),e.moveTo(v+c,S+t/2),e.arc(v+c,S+t/2,c,0,2*Math.PI),e.closePath(),e.fillStyle=i,e.fill(),v+=2*c+y;break;case"line":t=Math.max(h,d);let a=(s-h)/2;e.beginPath(),e.moveTo(v,S+t/2),e.lineTo(v+a-2,S+t/2),e.closePath(),e.lineWidth=2,e.strokeStyle=i,e.stroke(),e.beginPath(),e.moveTo(v+s/2,S+t/2),e.arc(v+s/2,S+t/2,h/2,0,2*Math.PI),e.closePath(),e.fillStyle=i,e.fill(),e.beginPath(),e.moveTo(v+a+h+2,S+t/2),e.lineTo(v+s,S+t/2),e.closePath(),e.lineWidth=2,e.strokeStyle=i,e.stroke(),v+=s+y;break;case"rect":t=Math.max(h,d),e.fillStyle=i,e.fillRect(v,S+t/2-h/2,s,h),v+=s+y}e.save(),e.textAlign="left",e.textBaseline="middle",e.font=d+"px",e.fillStyle=i,e.fillText(r,v,S+t/2),e.restore(),v+=o+u}),S+=t+u})}function $t(){let{context:t,opts:e,chartData:a}=this,{xAxis:n,yAxis:i}=e,{show:r,type:o,axisName:l,axisLabel:s,axisTick:h,axisLine:c,axisSplitLine:u}=n,{show:f,type:x,axisName:d,axisLabel:p,axisTick:y,axisLine:g,axisSplitLine:m}=i,{show:b,textStyle:S}=l,{show:v,textStyle:w,rotate:M}=s,{show:A,lineStyle:D}=h,{show:P,lineStyle:k}=c,{show:T,lineStyle:_}=u,{show:E,textStyle:W}=d,{show:L,textStyle:z}=p,{show:j,lineStyle:I}=y,{show:X,lineStyle:Y}=g,{show:B,lineStyle:O}=m,{color:N,fontSize:C}=S,{color:R,fontSize:H}=w,{color:F,lineWidth:$}=D,{color:q,lineWidth:G}=k,{color:Z,lineWidth:U}=_,{color:V,fontSize:J}=W,{color:K,fontSize:Q}=z,{color:tt,lineWidth:et}=I,{color:at,lineWidth:nt}=Y,{color:it,lineWidth:rt}=O,{xAxisLabelPoint:ot,xAxisTickPoint:lt,xAxisLinePoint:st,xAxisSplitLinePoint:ht,xAxisNamePoint:ct,yAxisLabelPoint:ut,yAxisTickPoint:ft,yAxisLinePoint:xt,yAxisSplitLinePoint:dt,yAxisNamePoint:pt}=a.axisData;f&&(L&&(t.save(),t.font=Q+"px",t.fillStyle=K,t.textAlign="right",t.textBaseline="middle",ut.forEach(e=>{("value"==x||e.show)&&t.fillText(e.text,e.x,e.y)}),t.restore()),B&&(t.lineWidth=rt,t.strokeStyle=it,dt.forEach((e,a)=>{("value"==x||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),E&&(t.save(),t.font=J+"px",t.fillStyle=V,t.textAlign="center",t.textBaseline="bottom",t.fillText(pt.text,pt.x,pt.y),t.restore())),r&&(v&&(t.save(),t.font=H+"px",t.fillStyle=R,t.textBaseline="top",0==M?t.textAlign="center":M>0?t.textAlign="right":M<0&&(t.textAlign="left"),ot.forEach(e=>{("value"==o||e.show)&&(0==M?t.fillText(e.text,e.x,e.y):(t.save(),t.translate(e.x,e.y),t.rotate(-M*Math.PI/180),t.fillText(e.text,0,0),t.restore()))}),t.restore()),T&&(t.lineWidth=U,t.strokeStyle=Z,ht.forEach((e,a)=>{("value"==o||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),b&&(t.save(),t.font=C+"px",t.fillStyle=N,t.textAlign="left",t.textBaseline="middle",t.fillText(ct.text,ct.x,ct.y),t.restore())),f&&(j&&(t.lineWidth=et,t.strokeStyle=tt,ft.forEach(e=>{("value"==x||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),X&&(t.beginPath(),t.moveTo(xt.startX,xt.startY),t.lineTo(xt.endX,xt.endY),t.closePath(),t.lineWidth=nt,t.strokeStyle=at,t.stroke())),r&&(A&&(t.lineWidth=$,t.strokeStyle=F,lt.forEach(e=>{("value"==o||e.show)&&(t.beginPath(),t.moveTo(e.startX,e.startY),t.lineTo(e.endX,e.endY),t.closePath(),t.stroke())})),P&&(t.beginPath(),t.moveTo(st.startX,st.startY),t.lineTo(st.endX,st.endY),t.closePath(),t.lineWidth=G,t.strokeStyle=q,t.stroke()))}function qt(){let{context:t,opts:e,chartData:a}=this,{backgroundColor:n,radarAxis:i,categories:r}=e,{shape:o,splitNumber:l,axisName:s,axisLine:h,splitLine:c,splitArea:u}=i,{show:f,textStyle:x}=s,{show:d,lineStyle:p}=h,{show:y,lineStyle:g}=c,{color:m,fontSize:b}=x,{color:S,lineWidth:v}=p,{color:w,lineWidth:M}=g,{odd:A,even:D}=u,{show:P,color:k,opacity:T}=A,{show:_,color:E,opacity:W}=D,{center:L,radius:z,lineEndPosition:j,namePosition:I}=a.radarAxis,[X,Y]=L;if("polygon"==o)j.forEach((e,a)=>{let i=(l-a)%2;t.beginPath(),e.forEach((e,a)=>{0==a?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),0===i&&P&&(t.fillStyle=n,t.fill(),t.save(),t.globalAlpha=W,t.fillStyle=E,t.fill(),t.restore()),1===i&&_&&(t.fillStyle=n,t.fill(),t.save(),t.globalAlpha=T,t.fillStyle="auto"==k?n:k,t.fill(),t.restore()),y&&(t.lineWidth=M,t.strokeStyle=w,t.stroke())});else for(let e=0;e<l;e++){let a=(l-e)/l,i=(l-e)%2;t.beginPath(),t.arc(X,Y,z*a,0,2*Math.PI),0===i&&P&&(t.fillStyle=n,t.fill(),t.save(),t.globalAlpha=W,t.fillStyle=E,t.fill(),t.restore()),1===i&&_&&(t.fillStyle=n,t.fill(),t.save(),t.globalAlpha=T,t.fillStyle="auto"==k?n:k,t.fill(),t.restore()),y&&(t.lineWidth=M,t.strokeStyle=w,t.stroke())}d&&j[0].forEach(e=>{t.beginPath(),t.moveTo(X,Y),t.lineTo(e.x,e.y),t.lineWidth=v,t.strokeStyle=S,t.stroke()}),f&&I.forEach(e=>{let{text:a,point:n,position:i}=e,{x:r}=n,{x:o,y:l}=i;t.save(),o==X?t.textAlign="center":r>0?t.textAlign="left":r<0&&(t.textAlign="right"),t.textBaseline="middle",t.font=b+"px",t.fillStyle=m,t.fillText(a,o,l),t.restore()})}function Gt(t){let{context:e,opts:a,chartData:n}=this,{label:i,xAxis:r}=a,{yMaxData:o,yMinData:l,xMaxData:s,xMinData:h}=n.axisData;r.type,r.type;"category"==r.type?(n.chartBar.forEach((a,n)=>{a.forEach((a,n)=>{a.forEach((a,n)=>{let{x:i,y:r,data:o,barWidth:l,barHeight:s,itemStyle:h}=a,{color:c}=h;e.save(),e.fillStyle=c,o>=0?e.fillRect(i-l/2,r,l,-s*t):e.fillRect(i-l/2,r,l,s*t),e.restore()})})}),1==t&&n.chartBar.forEach((t,a)=>{t.forEach((t,a)=>{t.forEach((t,a)=>{let{show:n,x:r,y:o,barWidth:l,barHeight:s,data:h,label:c,itemStyle:u}=t,{show:f,fontSize:x,color:d,margin:p}=c,{color:y}=u;f=i&&"boolean"==typeof i.show?i.show:f,x=i&&i.fontSize?i.fontSize:x,d=i&&i.color?i.color:d,p=i&&i.margin?i.margin:p,f&&n&&(e.save(),e.font=x+"px",e.strokeStyle="auto"==d?y:d,e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="center",h>=0?(e.strokeText(h,r,o-s/2),e.fillText(h,r,o-s/2)):(e.strokeText(h,r,o+s/2),e.fillText(h,r,o+s/2)),e.restore())})})})):(n.chartBar.forEach((a,n)=>{a.forEach((a,n)=>{a.forEach((a,n)=>{let{x:i,y:r,data:o,barWidth:l,barHeight:s,itemStyle:h}=a,{color:c}=h;e.save(),e.fillStyle=c,o>0?e.fillRect(i,r-l*t/2,s,l*t):e.fillRect(i,r-l*t/2,-s,l*t),e.restore()})})}),1==t&&n.chartBar.forEach((t,a)=>{t.forEach((t,a)=>{t.forEach((t,a)=>{let{show:n,x:r,y:o,barWidth:l,barHeight:s,data:h,label:c,itemStyle:u}=t,{show:f,fontSize:x,color:d,margin:p}=c,{color:y}=u;f=i&&"boolean"==typeof i.show?i.show:f,x=i&&i.fontSize?i.fontSize:x,d=i&&i.color?i.color:d,p=i&&i.margin?i.margin:p,f&&n&&(e.save(),e.font=x+"px",e.strokeStyle="auto"==d?y:d,e.fillStyle="#ffffff",e.textBaseline="middle",e.textAlign="center",h>=0?(e.strokeText(h,r+s/2,o),e.fillText(h,r+s/2,o)):(e.strokeText(h,r-s/2,o),e.fillText(h,r-s/2,o)),e.restore())})})}))}function Zt(t){let{context:e,opts:a,chartData:n}=this,{label:i,xAxis:r}=a,{xStart:o,xEnd:l,yStart:s,yEnd:c,yZero:u,xZero:f,yMaxData:x,yMinData:d,xMaxData:p,xMinData:y}=n.axisData,g="value"==r.type?p:x,m="value"==r.type?y:d;function b(t,e){return!(!t[e-1]||!t[e+1])&&(t[e].y>=Math.max(t[e-1].y,t[e+1].y)||t[e].y<=Math.min(t[e-1].y,t[e+1].y))}function S(t,a){let{show:n,lineWidth:i,color:r,opacity:o}=t,{color:l}=a;n&&(e.save(),e.lineJoin="round",e.globalAlpha=o,e.lineWidth=i,e.strokeStyle="auto"==r?l:r,e.stroke(),e.restore())}function v(t,a,n,i,h,x){let{show:d,color:p,opacity:y}=t,{color:b}=a;d&&("category"==r.type?g>=0&&m>=0?(e.lineTo(h,s),e.lineTo(n,s)):g<=0&&m<=0?(e.lineTo(h,c),e.lineTo(n,c)):(e.lineTo(h,u),e.lineTo(n,u)):g>=0&&m>=0?(e.lineTo(o,x),e.lineTo(o,i)):g<=0&&m<=0?(e.lineTo(l,x),e.lineTo(l,i)):(e.lineTo(f,x),e.lineTo(f,i)),e.closePath(),e.save(),e.globalAlpha=y,e.fillStyle="auto"==p?b:p,e.fill(),e.restore())}h(n.chartLine).forEach(a=>{let n,o,l,s,{itemStyle:h,line:c,symbol:u,area:f,label:x,smooth:d,connectNulls:p}=a,{color:y}=h,{show:w,type:M,size:A,color:D}=u,{show:P,fontSize:k,color:T,margin:_}=x;if(d){a.data=a.data.map(e=>{let{x:a,y:n,height:i,data:o}=e;return"category"==r.type?e.y=g>=0&&m>=0?n+i-i*t:g<=0&&m<=0?n-i+i*t:o>0?n+i-i*t:n-i+i*t:e.x=g>=0&&m>=0?a-i+i*t:g<=0&&m<=0?a+i-i*t:o>0?a-i+i*t:a+i-i*t,e}),a.validData=a.data.filter(t=>"number"==typeof t.data),(p?a.validData:a.data).forEach((t,a,i)=>{const r=.2,u=.2;let x=null,d=null,y=null,g=null,{x:m,y:w,data:M}=t;if("number"==typeof M)if(n&&o){let t=a-1;if(t<1?(x=i[0].x+(i[1].x-i[0].x)*r,d=i[0].y+(i[1].y-i[0].y)*r):(x=i[t].x+(i[t+1].x-i[t-1].x)*r,d=i[t].y+(i[t+1].y-i[t-1].y)*r),t>i.length-3){let t=i.length-1;y=i[t].x-(i[t].x-i[t-1].x)*u,g=i[t].y-(i[t].y-i[t-1].y)*u}else y=i[t+1].x-(i[t+2].x-i[t].x)*u,g=i[t+1].y-(i[t+2].y-i[t].y)*u;b(i,t+1)&&(g=i[t+1].y),b(i,t)&&(d=i[t].y),e.bezierCurveTo(x,d,y,g,m,w),l=m,s=w}else e.beginPath(),e.moveTo(m,w),n=m,o=w;(!p&&"number"!=typeof M||a+1==i.length)&&(l&&s&&(S(c,h),v(f,h,n,o,l,s),l=null,s=null),n=null,o=null)})}else a.data.forEach((a,i,u)=>{let{x:x,y:d,height:y,data:b}=a;"category"==r.type?d=g>=0&&m>=0?d+y-y*t:g<=0&&m<=0?d-y+y*t:b>0?d+y-y*t:d-y+y*t:x=g>=0&&m>=0?x-y+y*t:g<=0&&m<=0?x+y-y*t:b>0?x-y+y*t:x+y-y*t,"number"==typeof b&&(n&&o?(e.lineTo(x,d),l=x,s=d):(e.beginPath(),e.moveTo(x,d),n=x,o=d)),(!p&&"number"!=typeof b||i+1==u.length)&&l&&s&&(S(c,h),v(f,h,n,o,l,s),n=null,o=null,l=null,s=null)});1==t&&(w&&(e.save(),a.data.forEach(t=>{let{x:a,y:n,data:i}=t;if("number"==typeof i)switch(M){case"circle":e.beginPath(),e.arc(a,n,A/2,0,2*Math.PI),e.fillStyle="auto"==D?y:D,e.fill(),e.beginPath(),e.arc(a,n,A/4,0,2*Math.PI),e.fillStyle="#fff",e.fill()}}),e.restore()),P=i&&"boolean"==typeof i.show?i.show:P,k=i&&i.fontSize?i.fontSize:k,T=i&&i.color?i.color:T,_=i&&i.margin?i.margin:_,P&&(e.save(),e.font=k+"px",e.fillStyle="auto"==T?y:T,e.textAlign="center",a.data.forEach(t=>{let{x:a,y:n,data:i}=t;"number"==typeof i&&("category"==r.type?g>=0&&m>=0?(e.textBaseline="bottom",e.fillText(i,a,n-_)):g<=0&&m<=0?(e.textBaseline="top",e.fillText(i,a,n+_)):i?(e.textBaseline="bottom",e.fillText(i,a,n-_)):(e.textBaseline="top",e.fillText(i,a,n+_)):(e.textBaseline="bottom",e.fillText(i,a,n-_)))}),e.restore()))})}function Ut(t){let{context:e,opts:a,chartData:n}=this,{backgroundColor:o,label:l}=a,{data:s,center:h,radius:c,format:u,offsetAngle:f,disablePieStroke:x,valueSum:d,maxData:p,roseType:y}=n.chartPie,[g,m]=h,[b,S]=c,v=0!==f?f*Math.PI/180:0;if(s.forEach(a=>{a._start_=v,a._proportion_="area"==y?1/s.length*t:a.value/d*t;let n=S;"radius"!=y&&"area"!=y||(n=b+(S-b)*a.value/p),a.radius=n,e.beginPath(),e.moveTo(g,m),e.arc(g,m,n,a._start_,a._start_+2*a._proportion_*Math.PI),e.lineWidth=2,e.strokeStyle=o,e.fillStyle=a.itemStyle.color,e.fill(),x||e.stroke(),b>0&&(e.beginPath(),e.moveTo(g,m),e.arc(g,m,b,a._start_,a._start_+2*a._proportion_*Math.PI),e.fillStyle=o,e.strokeStyle=o,e.stroke(),e.fill()),v+=2*a._proportion_*Math.PI}),1==t){let{label:t,labelLine:a}=n.chartPie,{show:o,fontSize:c,color:u,margin:f,format:x}=t,{length1:p,length2:y,lineWidth:g,lineDotRadius:m}=a,b=S+p,v=null;o=l&&"boolean"==typeof l.show?l.show:o,c=l&&l.fontSize?l.fontSize:c,u=l&&l.color?l.color:u,f=l&&l.margin?l.margin:f,x=l&&l.format?l.format:x,o&&s.forEach((t,a)=>{let n=2*Math.PI-(t._start_+2*Math.PI*t._proportion_/2),o=x?x({name:t.name,value:t.value,percent:(t.value/d*100).toFixed(2)}):(t.value/d*100).toFixed(2)+"%",l={x:Math.cos(n)*t.radius,y:Math.sin(n)*t.radius},s={x:Math.cos(n)*b,y:Math.sin(n)*b},p={x:s.x>=0?s.x+y:s.x-y,y:s.y};p=function(t,e,a){if(e)for(;r(t,e,a);)t.x>0?t.y--:t.x<0&&t.y++;return t}(p,v,2*Math.max(m,c/2)),v=p;let S=i(l,h),w=i(s,h),M=i(p,h);e.font=c+"px";let A=e.measureText(o).width,D=Object.assign({},M);p.x>0?D.x+=m+f:D.x-=A+m+f,e.beginPath(),e.moveTo(S.x,S.y),e.quadraticCurveTo(w.x,w.y,M.x,M.y),e.lineWidth=g,e.strokeStyle=t.itemStyle.color,e.stroke(),e.closePath(),e.beginPath(),e.moveTo(M.x,M.y),e.arc(M.x,M.y,m,0,2*Math.PI),e.closePath(),e.fillStyle=t.itemStyle.color,e.fill(),e.font=c+"px",e.textBaseline="middle",e.fillStyle="auto"==u?t.itemStyle.color:u,e.fillText(o,D.x,D.y)})}}function Vt(t){let{context:e,opts:a,chartData:n}=this,{label:r}=a,{center:o}=n.radarAxis;h(n.chartRadar).forEach(a=>{let{dataPosition:n,itemStyle:l,area:s,line:h,symbol:c,label:u}=a,{show:f,color:x,opacity:d}=s,{show:p,lineWidht:y,color:g,opacity:m}=h,{show:b,type:S,size:v,color:w}=c,{show:M,fontSize:A,color:D,margin:P}=u;if(e.beginPath(),n.forEach((a,n)=>{let r=a.point;r.x=r.x*t,r.y=r.y*t;let l=i(r,o),{x:s,y:h}=l;a.position=l,0==n?e.moveTo(s,h):e.lineTo(s,h)}),e.closePath(),f&&(e.save(),e.globalAlpha=d,e.fillStyle="auto"==x?l.color:x,e.fill(),e.stroke(),e.restore()),p&&(e.save(),e.lineWidht=y,e.globalAlpha=m,e.strokeStyle="auto"==g?l.color:g,e.stroke(),e.restore()),1==t){if(b)switch(S){case"circle":e.save(),n.forEach(t=>{let{x:a,y:n}=t.position;e.beginPath(),e.arc(a,n,v/2,0,2*Math.PI),e.fillStyle="auto"==w?l.color:w,e.fill(),e.beginPath(),e.arc(a,n,v/4,0,2*Math.PI),e.fillStyle="#fff",e.fill()}),e.restore()}M=r&&"boolean"==typeof r.show?r.show:M,A=r&&r.fontSize?r.fontSize:A,D=r&&r.color?r.color:D,P=r&&r.margin?r.margin:P,M&&(e.save(),e.font=A+"px",e.fillStyle="auto"==D?l.color:D,e.textAlign="center",e.textBaseline="bottom",n.forEach(t=>{let{x:a,y:n}=t.position;e.fillText(t.data,a,n-P)}))}})}function Jt(t){let{context:e,opts:a,chartData:n}=this,{label:i}=a;n.chartScatter.forEach(a=>{let{name:n,data:r,label:o,itemStyle:l,opacity:s,lineWidth:h,strokeColor:c}=a,{show:u,fontSize:f,color:x,margin:d}=o,{color:p}=l;r.forEach(a=>{let{positionX:n,positionY:i,radius:r,color:o}=a;e.save(),e.beginPath(),e.arc(n,i,r*t,0,2*Math.PI),h>0&&(e.strokeStyle="auto"==c?o:c,e.lineWidth=0,e.stroke()),e.fillStyle=o,e.globalAlpha=s,e.fill(),e.restore()}),1==t&&(u=i&&"boolean"==typeof i.show?i.show:u,f=i&&i.fontSize?i.fontSize:f,x=i&&i.color?i.color:x,d=i&&i.margin?i.margin:d,u&&(e.save(),e.font=f+"px",e.fillStyle="auto"==x?p:x,r.forEach(t=>{let{y:a,z:i,radius:r,name:o,positionX:l,positionY:s}=t,h=o||(i||n);"string"!=typeof p?(e.textAlign="center",e.textBaseline="bottom",e.fillText(h,l,s-r-d)):(e.textAlign="center",e.textBaseline="middle",e.fillText(h,l,s))}),e.restore()))})}function Kt(t){let{context:e,opts:a,chartData:n}=this,{data:i,funnelAlign:r,itemStyle:o,label:l}=n.chartFunnel,{borderColor:s,borderWidth:h}=o;if(i.forEach(a=>{let{point:n,itemStyle:i}=a,{color:r}=i;e.beginPath(),n.forEach((a,n)=>{let{x:i,y:r}=a;0==n?e.moveTo(i,r*t):e.lineTo(i,r*t)}),e.closePath(),h>0&&(e.strokeStyle=s,e.lineWidth=h,e.stroke()),e.fillStyle=r,e.fill()}),1==t){let{label:t}=a,{show:n,fontSize:o,color:s,margin:h,position:c}=l;n=t&&"boolean"==typeof t.show?t.show:n,o=t&&t.fontSize?t.fontSize:o,s=t&&t.color?t.color:s,h=t&&t.margin?t.margin:h,n&&(e.save(),i.forEach(t=>{let{name:a,itemStyle:n,textPoint:i}=t,{x:l,y:h}=i;"inside"==c?(e.textAlign="center",e.textBaseline="middle",e.font=o+"px",e.strokeStyle=n.color,e.fillStyle="#ffffff",e.strokeText(a,l,h),e.fillText(a,l,h)):(e.textAlign="right"==r?"right":"left",e.textBaseline="middle",e.font=o+"px",e.fillStyle="auto"==s?n.color:s,e.fillText(a,l,h))}),e.restore())}}function Qt(t){let{context:e,opts:a,chartData:n,seriesMap:i}=this,r=h(i.candlestick),{highLine:o,lowLine:l,bar:s}=r[0],{rect:c,highLine:u,lowhLine:f,bar:x}=n.chartCandlestick;if(e.save(),c.forEach(t=>{let{color:a,bordercolor:n,opacity:i,borderWidth:r,rectPoint:o,upLinePoint:l,downLinePoint:s}=t,{x:h,y:c,width:u,height:f}=o,{startX:x,startY:d,endX:p,endY:y}=l,{startX:g,startY:m,endX:b,endY:S}=s;e.strokeStyle=n,e.fillStyle=a,e.globalAlpha=i,e.strokeRect(h+r/2,c+r/2,u-r,f-r),e.fillRect(h,c,u,f),e.beginPath(),e.lineWidth=1,e.strokeStyle=n,e.moveTo(x,d),e.lineTo(p,y),e.stroke(),e.moveTo(g,m),e.lineTo(b,S),e.stroke()}),e.restore(),1==t){let{show:t,lineStyle:a}=o,{show:n,lineStyle:i}=l,{show:r,itemStyle:h,lineStyle:c}=s,{color:d,lineWidth:p,lineDash:y,opacity:g}=a,{color:m,lineWidth:b,lineDash:S,opacity:v}=i,{startX:w,startY:M,endX:A,endY:D}=u,{startX:P,startY:k,endX:T,endY:_}=f,{color:E,opacity:W}=h,{lineWidth:L,lineColor:z}=c;t&&(e.save(),e.beginPath(),e.moveTo(w,M),e.lineTo(A,D),e.strokeStyle=d,e.lineWidth=p,e.setLineDash(y),e.globalAlpha=g,e.stroke(),e.restore()),n&&(e.save(),e.beginPath(),e.moveTo(P,k),e.lineTo(T,_),e.strokeStyle=m,e.lineWidth=b,e.setLineDash(S),e.globalAlpha=v,e.stroke(),e.restore()),r&&x.forEach(t=>{let{color:a,x:n,y:i,width:r,height:o,lineStartX:l,lineStartY:s,lineEndX:h,lineEndY:c}=t;e.save(),e.beginPath(),e.fillStyle="auto"==E?a:E,e.globalAlpha=W,e.fillRect(n,i,r,-o),e.lineWidth=L,e.strokeStyle=z,e.moveTo(l,s),e.lineTo(h,c),e.stroke(),e.restore()})}}function te(t){let{context:e,opts:a,chartData:n}=this,{xEachSpacing:i,yEachSpacing:r}=n.axisData,{label:o}=a;const l=a.xAxis.axisSplitLine.lineStyle.lineWidth,s=a.yAxis.axisSplitLine.lineStyle.lineWidth;n.chartHeatmap.forEach(a=>{let{data:n,label:h}=a,{show:c,fontSize:u,color:f,margin:x}=h;n.forEach(a=>{let{positionX:n,positionY:o,color:h,useSplit:c}=a;e.save(),e.beginPath(),c?e.rect(n+2*s,o+2*l,i-4*s,r-4*l):e.rect(n,o,i,r),e.fillStyle=h,e.globalAlpha=t,e.fill(),e.restore()}),1==t&&(c=o&&"boolean"==typeof o.show?o.show:c,u=o&&o.fontSize?o.fontSize:u,f=o&&o.color?o.color:f,x=o&&o.margin?o.margin:x,c&&(e.save(),e.font=u+"px",e.fillStyle="auto"==f?"#ffffff":f,e.textAlign="center",e.textBaseline="middle",n.forEach(t=>{let{positionX:a,positionY:n}=t,o=t[2];e.fillText(o,a+i/2,n+r/2)}),e.restore()))})}function ee(t){let{context:e,opts:a,chartData:n}=this,{label:i}=a,{label:r,splitLine:o}=n.chartTreemap.data,{show:l,fontSize:s,color:h,margin:c}=r,{show:u,lineWidth:f,color:x}=o;e.save(),n.chartTreemap.children.forEach((a,n)=>{let{x0:i,y0:r,x1:o,y1:l,data:s}=a,h=o-i,c=l-r;e.fillStyle=s.itemStyle.color,e.globalAlpha=t,u&&(e.lineWidth=f,e.strokeStyle=x,e.strokeRect(i,r,h,c)),e.fillRect(i,r,h,c)}),e.restore(),1==t&&(l=i&&"boolean"==typeof i.show?i.show:l,s=i&&i.fontSize?i.fontSize:s,h=i&&i.color?i.color:h,c=i&&i.margin?i.margin:c,l&&(e.save(),n.chartTreemap.children.forEach(t=>{let{x0:a,y0:n,x1:i,y1:r,data:o}=t,{name:l,itemStyle:s}=o,c=a+(i-a)/2,u=n+(r-n)/2,f=Math.min(i-a,r-n);e.textAlign="center",e.textBaseline="middle",e.font=.2*f+"px",e.strokeStyle="auto"==h?s.color:h,e.fillStyle="#ffffff",e.strokeText(l,c,u),e.fillText(l,c,u)}),e.restore()))}function ae(t){let{opts:e,chartData:a}=this,{element:n,width:i,height:r}=e;n.width=i,n.height=r;const o=n.getContext("2d");a.chartTagCloud.data.forEach(t=>{let{text:e,x:a,y:n,font:l,size:s,rotate:h,itemStyle:c}=t;o.save(),o.beginPath(),o.font=`${s}px ${l}`,o.fillStyle=c.color,o.textAlign="center",o.translate(i/2+a,r/2+n),o.rotate(h*Math.PI/180),o.fillText(e,0,0),o.restore()})}function ne(){p.call(this),y.call(this),g.call(this),(this.seriesMap.line||this.seriesMap.bar||this.seriesMap.scatter||this.seriesMap.candlestick||this.seriesMap.heatmap)&&m.call(this),Object.keys(this.seriesMap).forEach(t=>{if(this.seriesMap[t])switch(t){case"bar":S.call(this);break;case"line":v.call(this);break;case"pie":w.call(this);break;case"radar":b.call(this),M.call(this);break;case"scatter":A.call(this);break;case"funnel":D.call(this);break;case"candlestick":P.call(this);break;case"heatmap":k.call(this);break;case"treemap":At.call(this);break;case"tagCloud":Rt.call(this)}});let{animation:t,animationDuration:e,animationTiming:a}=this.opts;this.animationInstance&&this.animationInstance.stop(),this.animationInstance=new d({animation:t,animationDuration:e,animationTiming:a,onProcess:t=>{Ht.call(this),(this.seriesMap.line||this.seriesMap.bar||this.seriesMap.scatter||this.seriesMap.candlestick||this.seriesMap.heatmap)&&$t.call(this),Object.keys(this.seriesMap).forEach(e=>{switch(e){case"bar":Gt.call(this,t);break;case"line":Zt.call(this,t);break;case"pie":Ut.call(this,t);break;case"radar":qt.call(this),Vt.call(this,t);break;case"scatter":Jt.call(this,t);break;case"funnel":Kt.call(this,t);break;case"candlestick":Qt.call(this,t);break;case"heatmap":te.call(this,t);break;case"treemap":ee.call(this,t);break;case"tagCloud":ae.call(this,t)}}),1==t&&Ft.call(this)},onAnimationFinish:()=>{this.event.trigger("renderComplete")}})}export default class{constructor(a={}){this.config=Object.assign({},e),this.opts=Object.assign({},a),this.context=this.opts.element.getContext("2d"),this.legendData={},this.seriesMap={},this.chartData={},this.event=new t,this.event.addEventListener("renderComplete",a.onRenderComplete),u.call(this),ne.call(this)}updateData(t={}){Object.keys(t).forEach(e=>{"series"==e?(this.opts.series=h(t.series),f.call(this)):c(t,e,this.opts,e,!0)}),ne.call(this)}}
//# sourceMappingURL=qacharts-min.js.map
